<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cnit.yoyo.dao.order.OrderRefundsMapper" >
  <resultMap id="BaseResultMap" type="com.cnit.yoyo.model.order.OrderRefunds" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    <id column="refund_id" property="refundId" jdbcType="VARCHAR" />
    <result column="money" property="money" jdbcType="DECIMAL" />
    <result column="cur_money" property="curMoney" jdbcType="DECIMAL" />
    <result column="bank" property="bank" jdbcType="VARCHAR" />
    <result column="refund_account" property="refundAccount" jdbcType="VARCHAR" />
    <result column="account" property="account" jdbcType="VARCHAR" />
    <result column="currency" property="currency" jdbcType="VARCHAR" />
    <result column="paycost" property="paycost" jdbcType="DECIMAL" />
    <result column="pay_type" property="payType" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="VARCHAR" />
    <result column="refund_name" property="refundName" jdbcType="VARCHAR" />
    <result column="refund_ver" property="refundVer" jdbcType="VARCHAR" />
    <result column="op_id" property="opId" jdbcType="INTEGER" />
    <result column="refund_bn" property="refundBn" jdbcType="VARCHAR" />
    <result column="refund_app_id" property="refundAppId" jdbcType="VARCHAR" />
    <result column="t_payed" property="tPayed" jdbcType="TIMESTAMP" />
    <result column="t_begin" property="tBegin" jdbcType="TIMESTAMP" />
    <result column="t_confirm" property="tConfirm" jdbcType="TIMESTAMP" />
    <result column="memo" property="memo" jdbcType="VARCHAR" />
    <result column="disabled" property="disabled" jdbcType="VARCHAR" />
    <result column="trade_no" property="tradeNo" jdbcType="VARCHAR" />
    <result column="refund_type" property="refundType" jdbcType="VARCHAR" />
    <result column="profit" property="profit" jdbcType="DECIMAL" />
    <result column="score_cost" property="scoreCost" jdbcType="DECIMAL" />
    <result column="is_safeguard" property="isSafeguard" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    refund_id, money, cur_money, bank, refund_account, account, currency, paycost, pay_type, 
    status, refund_name, refund_ver, op_id, refund_bn, refund_app_id, t_payed, t_begin, 
    t_confirm, memo, disabled, trade_no, refund_type, profit, score_cost, is_safeguard
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.cnit.yoyo.model.order.OrderRefundsExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    'false' as QUERYID,
    <include refid="Base_Column_List" />
    from t_order_refunds
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    from t_order_refunds
    where refund_id = #{refundId,jdbcType=VARCHAR}
  </select>
  
  <select id="selectOrderRefund" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select 
    t_order_refunds.refund_id, t_order_refunds.money, t_order_refunds.cur_money, t_order_refunds.bank, t_order_refunds.refund_account, t_order_refunds.account, t_order_refunds.currency, t_order_refunds.paycost, t_order_refunds.pay_type, 
    t_order_refunds.status, t_order_refunds.refund_name, t_order_refunds.refund_ver, t_order_refunds.op_id, t_order_refunds.refund_bn, t_order_refunds.refund_app_id, t_order_refunds.t_payed, t_begin, 
    t_order_refunds.t_confirm, t_order_refunds.memo, t_order_refunds.disabled, t_order_refunds.trade_no, t_order_refunds.refund_type, t_order_refunds.profit, t_order_refunds.score_cost, t_order_refunds.is_safeguard
    FROM
	t_order_bills
	INNER JOIN t_order_refunds ON t_order_refunds.refund_id = t_order_bills.refund_id
	where t_order_bills.order_id = #{orderId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    delete from t_order_refunds
    where refund_id = #{refundId,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteByExample" parameterType="com.cnit.yoyo.model.order.OrderRefundsExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    delete from t_order_refunds
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.cnit.yoyo.model.order.OrderRefunds" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    insert into t_order_refunds (refund_id, money, cur_money, 
      bank, refund_account, account, 
      currency, paycost, pay_type, 
      status, refund_name, refund_ver, 
      op_id, refund_bn, refund_app_id, 
      t_payed, t_begin, t_confirm, 
      memo, disabled, trade_no, 
      refund_type, profit, score_cost, 
      is_safeguard)
    values (#{refundId,jdbcType=VARCHAR}, #{money,jdbcType=DECIMAL}, #{curMoney,jdbcType=DECIMAL}, 
      #{bank,jdbcType=VARCHAR}, #{refundAccount,jdbcType=VARCHAR}, #{account,jdbcType=VARCHAR}, 
      #{currency,jdbcType=VARCHAR}, #{paycost,jdbcType=DECIMAL}, #{payType,jdbcType=VARCHAR}, 
      #{status,jdbcType=VARCHAR}, #{refundName,jdbcType=VARCHAR}, #{refundVer,jdbcType=VARCHAR}, 
      #{opId,jdbcType=INTEGER}, #{refundBn,jdbcType=VARCHAR}, #{refundAppId,jdbcType=VARCHAR}, 
      #{tPayed,jdbcType=TIMESTAMP}, #{tBegin,jdbcType=TIMESTAMP}, #{tConfirm,jdbcType=TIMESTAMP}, 
      #{memo,jdbcType=VARCHAR}, #{disabled,jdbcType=VARCHAR}, #{tradeNo,jdbcType=VARCHAR}, 
      #{refundType,jdbcType=VARCHAR}, #{profit,jdbcType=DECIMAL}, #{scoreCost,jdbcType=DECIMAL}, 
      #{isSafeguard,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.cnit.yoyo.model.order.OrderRefunds" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    insert into t_order_refunds
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="refundId != null" >
        refund_id,
      </if>
      <if test="money != null" >
        money,
      </if>
      <if test="curMoney != null" >
        cur_money,
      </if>
      <if test="bank != null" >
        bank,
      </if>
      <if test="refundAccount != null" >
        refund_account,
      </if>
      <if test="account != null" >
        account,
      </if>
      <if test="currency != null" >
        currency,
      </if>
      <if test="paycost != null" >
        paycost,
      </if>
      <if test="payType != null" >
        pay_type,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="refundName != null" >
        refund_name,
      </if>
      <if test="refundVer != null" >
        refund_ver,
      </if>
      <if test="opId != null" >
        op_id,
      </if>
      <if test="refundBn != null" >
        refund_bn,
      </if>
      <if test="refundAppId != null" >
        refund_app_id,
      </if>
      <if test="tPayed != null" >
        t_payed,
      </if>
      <if test="tBegin != null" >
        t_begin,
      </if>
      <if test="tConfirm != null" >
        t_confirm,
      </if>
      <if test="memo != null" >
        memo,
      </if>
      <if test="disabled != null" >
        disabled,
      </if>
      <if test="tradeNo != null" >
        trade_no,
      </if>
      <if test="refundType != null" >
        refund_type,
      </if>
      <if test="profit != null" >
        profit,
      </if>
      <if test="scoreCost != null" >
        score_cost,
      </if>
      <if test="isSafeguard != null" >
        is_safeguard,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="refundId != null" >
        #{refundId,jdbcType=VARCHAR},
      </if>
      <if test="money != null" >
        #{money,jdbcType=DECIMAL},
      </if>
      <if test="curMoney != null" >
        #{curMoney,jdbcType=DECIMAL},
      </if>
      <if test="bank != null" >
        #{bank,jdbcType=VARCHAR},
      </if>
      <if test="refundAccount != null" >
        #{refundAccount,jdbcType=VARCHAR},
      </if>
      <if test="account != null" >
        #{account,jdbcType=VARCHAR},
      </if>
      <if test="currency != null" >
        #{currency,jdbcType=VARCHAR},
      </if>
      <if test="paycost != null" >
        #{paycost,jdbcType=DECIMAL},
      </if>
      <if test="payType != null" >
        #{payType,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        #{status,jdbcType=VARCHAR},
      </if>
      <if test="refundName != null" >
        #{refundName,jdbcType=VARCHAR},
      </if>
      <if test="refundVer != null" >
        #{refundVer,jdbcType=VARCHAR},
      </if>
      <if test="opId != null" >
        #{opId,jdbcType=INTEGER},
      </if>
      <if test="refundBn != null" >
        #{refundBn,jdbcType=VARCHAR},
      </if>
      <if test="refundAppId != null" >
        #{refundAppId,jdbcType=VARCHAR},
      </if>
      <if test="tPayed != null" >
        #{tPayed,jdbcType=TIMESTAMP},
      </if>
      <if test="tBegin != null" >
        #{tBegin,jdbcType=TIMESTAMP},
      </if>
      <if test="tConfirm != null" >
        #{tConfirm,jdbcType=TIMESTAMP},
      </if>
      <if test="memo != null" >
        #{memo,jdbcType=VARCHAR},
      </if>
      <if test="disabled != null" >
        #{disabled,jdbcType=VARCHAR},
      </if>
      <if test="tradeNo != null" >
        #{tradeNo,jdbcType=VARCHAR},
      </if>
      <if test="refundType != null" >
        #{refundType,jdbcType=VARCHAR},
      </if>
      <if test="profit != null" >
        #{profit,jdbcType=DECIMAL},
      </if>
      <if test="scoreCost != null" >
        #{scoreCost,jdbcType=DECIMAL},
      </if>
      <if test="isSafeguard != null" >
        #{isSafeguard,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    update t_order_refunds
    <set >
      <if test="record.refundId != null" >
        refund_id = #{record.refundId,jdbcType=VARCHAR},
      </if>
      <if test="record.money != null" >
        money = #{record.money,jdbcType=DECIMAL},
      </if>
      <if test="record.curMoney != null" >
        cur_money = #{record.curMoney,jdbcType=DECIMAL},
      </if>
      <if test="record.bank != null" >
        bank = #{record.bank,jdbcType=VARCHAR},
      </if>
      <if test="record.refundAccount != null" >
        refund_account = #{record.refundAccount,jdbcType=VARCHAR},
      </if>
      <if test="record.account != null" >
        account = #{record.account,jdbcType=VARCHAR},
      </if>
      <if test="record.currency != null" >
        currency = #{record.currency,jdbcType=VARCHAR},
      </if>
      <if test="record.paycost != null" >
        paycost = #{record.paycost,jdbcType=DECIMAL},
      </if>
      <if test="record.payType != null" >
        pay_type = #{record.payType,jdbcType=VARCHAR},
      </if>
      <if test="record.status != null" >
        status = #{record.status,jdbcType=VARCHAR},
      </if>
      <if test="record.refundName != null" >
        refund_name = #{record.refundName,jdbcType=VARCHAR},
      </if>
      <if test="record.refundVer != null" >
        refund_ver = #{record.refundVer,jdbcType=VARCHAR},
      </if>
      <if test="record.opId != null" >
        op_id = #{record.opId,jdbcType=INTEGER},
      </if>
      <if test="record.refundBn != null" >
        refund_bn = #{record.refundBn,jdbcType=VARCHAR},
      </if>
      <if test="record.refundAppId != null" >
        refund_app_id = #{record.refundAppId,jdbcType=VARCHAR},
      </if>
      <if test="record.tPayed != null" >
        t_payed = #{record.tPayed,jdbcType=TIMESTAMP},
      </if>
      <if test="record.tBegin != null" >
        t_begin = #{record.tBegin,jdbcType=TIMESTAMP},
      </if>
      <if test="record.tConfirm != null" >
        t_confirm = #{record.tConfirm,jdbcType=TIMESTAMP},
      </if>
      <if test="record.memo != null" >
        memo = #{record.memo,jdbcType=VARCHAR},
      </if>
      <if test="record.disabled != null" >
        disabled = #{record.disabled,jdbcType=VARCHAR},
      </if>
      <if test="record.tradeNo != null" >
        trade_no = #{record.tradeNo,jdbcType=VARCHAR},
      </if>
      <if test="record.refundType != null" >
        refund_type = #{record.refundType,jdbcType=VARCHAR},
      </if>
      <if test="record.profit != null" >
        profit = #{record.profit,jdbcType=DECIMAL},
      </if>
      <if test="record.scoreCost != null" >
        score_cost = #{record.scoreCost,jdbcType=DECIMAL},
      </if>
      <if test="record.isSafeguard != null" >
        is_safeguard = #{record.isSafeguard,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    update t_order_refunds
    set refund_id = #{record.refundId,jdbcType=VARCHAR},
      money = #{record.money,jdbcType=DECIMAL},
      cur_money = #{record.curMoney,jdbcType=DECIMAL},
      bank = #{record.bank,jdbcType=VARCHAR},
      refund_account = #{record.refundAccount,jdbcType=VARCHAR},
      account = #{record.account,jdbcType=VARCHAR},
      currency = #{record.currency,jdbcType=VARCHAR},
      paycost = #{record.paycost,jdbcType=DECIMAL},
      pay_type = #{record.payType,jdbcType=VARCHAR},
      status = #{record.status,jdbcType=VARCHAR},
      refund_name = #{record.refundName,jdbcType=VARCHAR},
      refund_ver = #{record.refundVer,jdbcType=VARCHAR},
      op_id = #{record.opId,jdbcType=INTEGER},
      refund_bn = #{record.refundBn,jdbcType=VARCHAR},
      refund_app_id = #{record.refundAppId,jdbcType=VARCHAR},
      t_payed = #{record.tPayed,jdbcType=TIMESTAMP},
      t_begin = #{record.tBegin,jdbcType=TIMESTAMP},
      t_confirm = #{record.tConfirm,jdbcType=TIMESTAMP},
      memo = #{record.memo,jdbcType=VARCHAR},
      disabled = #{record.disabled,jdbcType=VARCHAR},
      trade_no = #{record.tradeNo,jdbcType=VARCHAR},
      refund_type = #{record.refundType,jdbcType=VARCHAR},
      profit = #{record.profit,jdbcType=DECIMAL},
      score_cost = #{record.scoreCost,jdbcType=DECIMAL},
      is_safeguard = #{record.isSafeguard,jdbcType=VARCHAR}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.cnit.yoyo.model.order.OrderRefunds" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    update t_order_refunds
    <set >
      <if test="money != null" >
        money = #{money,jdbcType=DECIMAL},
      </if>
      <if test="curMoney != null" >
        cur_money = #{curMoney,jdbcType=DECIMAL},
      </if>
      <if test="bank != null" >
        bank = #{bank,jdbcType=VARCHAR},
      </if>
      <if test="refundAccount != null" >
        refund_account = #{refundAccount,jdbcType=VARCHAR},
      </if>
      <if test="account != null" >
        account = #{account,jdbcType=VARCHAR},
      </if>
      <if test="currency != null" >
        currency = #{currency,jdbcType=VARCHAR},
      </if>
      <if test="paycost != null" >
        paycost = #{paycost,jdbcType=DECIMAL},
      </if>
      <if test="payType != null" >
        pay_type = #{payType,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=VARCHAR},
      </if>
      <if test="refundName != null" >
        refund_name = #{refundName,jdbcType=VARCHAR},
      </if>
      <if test="refundVer != null" >
        refund_ver = #{refundVer,jdbcType=VARCHAR},
      </if>
      <if test="opId != null" >
        op_id = #{opId,jdbcType=INTEGER},
      </if>
      <if test="refundBn != null" >
        refund_bn = #{refundBn,jdbcType=VARCHAR},
      </if>
      <if test="refundAppId != null" >
        refund_app_id = #{refundAppId,jdbcType=VARCHAR},
      </if>
      <if test="tPayed != null" >
        t_payed = #{tPayed,jdbcType=TIMESTAMP},
      </if>
      <if test="tBegin != null" >
        t_begin = #{tBegin,jdbcType=TIMESTAMP},
      </if>
      <if test="tConfirm != null" >
        t_confirm = #{tConfirm,jdbcType=TIMESTAMP},
      </if>
      <if test="memo != null" >
        memo = #{memo,jdbcType=VARCHAR},
      </if>
      <if test="disabled != null" >
        disabled = #{disabled,jdbcType=VARCHAR},
      </if>
      <if test="tradeNo != null" >
        trade_no = #{tradeNo,jdbcType=VARCHAR},
      </if>
      <if test="refundType != null" >
        refund_type = #{refundType,jdbcType=VARCHAR},
      </if>
      <if test="profit != null" >
        profit = #{profit,jdbcType=DECIMAL},
      </if>
      <if test="scoreCost != null" >
        score_cost = #{scoreCost,jdbcType=DECIMAL},
      </if>
      <if test="isSafeguard != null" >
        is_safeguard = #{isSafeguard,jdbcType=VARCHAR},
      </if>
    </set>
    where refund_id = #{refundId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.cnit.yoyo.model.order.OrderRefunds" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 17 11:32:57 CST 2015.
    -->
    update t_order_refunds
    set money = #{money,jdbcType=DECIMAL},
      cur_money = #{curMoney,jdbcType=DECIMAL},
      bank = #{bank,jdbcType=VARCHAR},
      refund_account = #{refundAccount,jdbcType=VARCHAR},
      account = #{account,jdbcType=VARCHAR},
      currency = #{currency,jdbcType=VARCHAR},
      paycost = #{paycost,jdbcType=DECIMAL},
      pay_type = #{payType,jdbcType=VARCHAR},
      status = #{status,jdbcType=VARCHAR},
      refund_name = #{refundName,jdbcType=VARCHAR},
      refund_ver = #{refundVer,jdbcType=VARCHAR},
      op_id = #{opId,jdbcType=INTEGER},
      refund_bn = #{refundBn,jdbcType=VARCHAR},
      refund_app_id = #{refundAppId,jdbcType=VARCHAR},
      t_payed = #{tPayed,jdbcType=TIMESTAMP},
      t_begin = #{tBegin,jdbcType=TIMESTAMP},
      t_confirm = #{tConfirm,jdbcType=TIMESTAMP},
      memo = #{memo,jdbcType=VARCHAR},
      disabled = #{disabled,jdbcType=VARCHAR},
      trade_no = #{tradeNo,jdbcType=VARCHAR},
      refund_type = #{refundType,jdbcType=VARCHAR},
      profit = #{profit,jdbcType=DECIMAL},
      score_cost = #{scoreCost,jdbcType=DECIMAL},
      is_safeguard = #{isSafeguard,jdbcType=VARCHAR}
    where refund_id = #{refundId,jdbcType=VARCHAR}
  </update>
  
  <resultMap type="com.cnit.yoyo.model.order.OrderRefunds" id="OrderRfundResultListMap" extends="BaseResultMap">
  		<association property="orderBills" column="refund_id" javaType="com.cnit.yoyo.model.order.OrderBills">
  		 	<id column="rel_id" property="relId" jdbcType="BIGINT" />
		    <id column="bill_type" property="billType" jdbcType="INTEGER" />
		    <result column="payment_id" property="paymentId" jdbcType="VARCHAR" />
		    <result column="order_id" property="orderId" jdbcType="BIGINT" />
		    <result column="pay_object" property="payObject" jdbcType="INTEGER" />
		    <result column="bill_id" property="billId" jdbcType="VARCHAR" />
		    <result column="money" property="money" jdbcType="DECIMAL" />
		    <result column="refund_id" property="refundId" jdbcType="VARCHAR" />
  		</association>
  		
  </resultMap>
  
    
  <resultMap type="com.cnit.yoyo.model.order.dto.OrderRefundsDTO" id="OrderRfundResultMap" extends="BaseResultMap">
  		<association property="orderBills" column="refund_id" javaType="com.cnit.yoyo.model.order.OrderBills">
  		 	<id column="rel_id" property="relId" jdbcType="BIGINT" />
		    <id column="bill_type" property="billType" jdbcType="INTEGER" />
		    <result column="payment_id" property="paymentId" jdbcType="VARCHAR" />
		    <result column="order_id" property="orderId" jdbcType="BIGINT" />
		    <result column="pay_object" property="payObject" jdbcType="INTEGER" />
		    <result column="bill_id" property="billId" jdbcType="VARCHAR" />
		    <result column="money" property="money" jdbcType="DECIMAL" />
		    <result column="refund_id" property="refundId" jdbcType="VARCHAR" />
  		</association>
  		<association property="order" column="refund_id" javaType="com.cnit.yoyo.model.order.Order">
  			<id column="order_id" jdbcType="BIGINT" property="orderId" />
		    <result column="company_id" jdbcType="BIGINT" property="companyId" />
		    <result column="store_id" jdbcType="BIGINT" property="storeId" />
		    <result column="member_id" jdbcType="INTEGER" property="memberId" />
		    <result column="total_amount" jdbcType="DECIMAL" property="totalAmount" />
		    <result column="final_amount" jdbcType="DECIMAL" property="finalAmount" />
		    <result column="pay_status" jdbcType="VARCHAR" property="payStatus" />
		    <result column="is_delivery" jdbcType="VARCHAR" property="isDelivery" />
		    <result column="discount_value" jdbcType="DECIMAL" property="discountValue" />
		    <result column="createtime" jdbcType="TIMESTAMP" property="createtime" />
		    <result column="last_modified" jdbcType="TIMESTAMP" property="lastModified" />
		    <result column="payment" jdbcType="VARCHAR" property="payment" />
		    <result column="shipping_id" jdbcType="INTEGER" property="shippingId" />
		    <result column="shipping" jdbcType="VARCHAR" property="shipping" />
		    <result column="order_status" jdbcType="VARCHAR" property="status" />
		    <result column="confirm" jdbcType="VARCHAR" property="confirm" />
		    <result column="ship_area" jdbcType="VARCHAR" property="shipArea" />
		    <result column="ship_name" jdbcType="VARCHAR" property="shipName" />
		    <result column="weight" jdbcType="DECIMAL" property="weight" />
		    <result column="tostr" jdbcType="VARCHAR" property="tostr" />
		    <result column="itemnum" jdbcType="INTEGER" property="itemnum" />
		    <result column="ip" jdbcType="VARCHAR" property="ip" />
		    <result column="ship_addr" jdbcType="VARCHAR" property="shipAddr" />
		    <result column="ship_zip" jdbcType="VARCHAR" property="shipZip" />
		    <result column="ship_tel" jdbcType="VARCHAR" property="shipTel" />
		    <result column="ship_email" jdbcType="VARCHAR" property="shipEmail" />
		    <result column="ship_time" jdbcType="VARCHAR" property="shipTime" />
		    <result column="ship_mobile" jdbcType="VARCHAR" property="shipMobile" />
		    <result column="cost_item" jdbcType="DECIMAL" property="costItem" />
		    <result column="is_coupons" jdbcType="INTEGER" property="isCoupons" />
		    <result column="cost_tax" jdbcType="DECIMAL" property="costTax" />
		    <result column="tax_company" jdbcType="VARCHAR" property="taxCompany" />
		    <result column="is_protect" jdbcType="VARCHAR" property="isProtect" />
		    <result column="cost_protect" jdbcType="DECIMAL" property="costProtect" />
		    <result column="cost_payment" jdbcType="DECIMAL" property="costPayment" />
		    <result column="currency" jdbcType="VARCHAR" property="currency" />
		    <result column="cur_rate" jdbcType="DECIMAL" property="curRate" />
		    <result column="score_u" jdbcType="DECIMAL" property="scoreU" />
		    <result column="score_g" jdbcType="DECIMAL" property="scoreG" />
		    <result column="discount" jdbcType="DECIMAL" property="discount" />
		    <result column="pmt_goods" jdbcType="DECIMAL" property="pmtGoods" />
		    <result column="pmt_order" jdbcType="DECIMAL" property="pmtOrder" />
		    <result column="payed" jdbcType="DECIMAL" property="payed" />
		    <result column="memo" jdbcType="VARCHAR" property="memo" />
		    <result column="disabled" jdbcType="VARCHAR" property="disabled" />
		    <result column="mark_type" jdbcType="VARCHAR" property="markType" />
		    <result column="mark_text" jdbcType="VARCHAR" property="markText" />
		    <result column="cost_freight" jdbcType="DECIMAL" property="costFreight" />
		    <result column="extend" jdbcType="VARCHAR" property="extend" />
		    <result column="order_refer" jdbcType="VARCHAR" property="orderRefer" />
		    <result column="addon" jdbcType="VARCHAR" property="addon" />
		    <result column="source" jdbcType="VARCHAR" property="source" />
		    <result column="confirm_time" jdbcType="TIMESTAMP" property="confirmTime" />
		    <result column="comments_count" jdbcType="INTEGER" property="commentsCount" />
		    <result column="refund_status" jdbcType="VARCHAR" property="refundStatus" />
		    <result column="act_id" jdbcType="INTEGER" property="actId" />
		    <result column="order_type" jdbcType="VARCHAR" property="orderType" />
		    <result column="is_extend" jdbcType="VARCHAR" property="isExtend" />
		    <result column="order_kind" jdbcType="VARCHAR" property="orderKind" />
		    
		    <result column="nick_name" jdbcType="VARCHAR" property="member.nickName" />
		    <result column="member_name" jdbcType="VARCHAR" property="member.name" />
		    <result column="mobile" jdbcType="VARCHAR" property="member.mobile" />
		    <result column="tel" jdbcType="VARCHAR" property="member.tel" />
		    <result column="email" jdbcType="VARCHAR" property="member.email" />
		    
  			<collection property="orderItems" ofType="com.cnit.yoyo.model.order.OrderItems" column="order_id">
				<id column="item_id" property="itemId" jdbcType="INTEGER" />
			    <result column="order_id" property="orderId" jdbcType="BIGINT" />
			    <result column="product_id" property="productId" jdbcType="INTEGER" />
			    <result column="bn" property="bn" jdbcType="VARCHAR" />
			    <result column="product_name" property="name" jdbcType="VARCHAR" />
			    <result column="price" property="price" jdbcType="DECIMAL" />
			    <result column="g_pric" property="gPric" jdbcType="DECIMAL" />
			    <result column="cost" property="cost" jdbcType="DECIMAL" />
			    <result column="amount" property="amount" jdbcType="DECIMAL" />
			    <result column="score" property="score" jdbcType="INTEGER" />
			    <result column="weight" property="weight" jdbcType="INTEGER" />
			    <result column="nums" property="nums" jdbcType="REAL" />
			    <result column="sendnum" property="sendnum" jdbcType="REAL" />
			    <result column="item_type" property="itemType" jdbcType="INTEGER" />
			    <association property="product" column="product_id" javaType="com.cnit.yoyo.model.goods.Product">  
		            <id column="product_id" property="productId" jdbcType="INTEGER" />
				    <result column="goods_id" property="goodsId" jdbcType="INTEGER" />
				    <result column="barcode" property="barcode" jdbcType="VARCHAR" />
				    <result column="title" property="title" jdbcType="VARCHAR" />
				    <result column="product_bn" property="bn" jdbcType="VARCHAR" />
				    <result column="price" property="price" jdbcType="DECIMAL" />
				    <result column="cost" property="cost" jdbcType="DECIMAL" />
				    <result column="mktprice" property="mktprice" jdbcType="DECIMAL" />
				    <result column="product_name" property="name" jdbcType="VARCHAR" />
				    <result column="weight" property="weight" jdbcType="DECIMAL" />
				    <result column="unit" property="unit" jdbcType="VARCHAR" />
				    <result column="store" property="store" jdbcType="DECIMAL" />
				    <result column="store_place" property="storePlace" jdbcType="VARCHAR" />
				    <result column="freez" property="freez" jdbcType="INTEGER" />
				    <result column="goods_type" property="goodsType" jdbcType="VARCHAR" />
				    <result column="last_modify" property="lastModify" jdbcType="TIMESTAMP" />
				    <result column="uptime" property="uptime" jdbcType="TIMESTAMP" />
				    <result column="disabled" property="disabled" jdbcType="VARCHAR" />
				    <result column="marketable" property="marketable" jdbcType="VARCHAR" />
		        </association>  
			</collection>
  		</association>
  		<association property="returnProduct" column="order_id" javaType="com.cnit.yoyo.model.trade.AftersalesReturnProductWithBLOBs">
  			<id column="return_id" jdbcType="BIGINT" property="returnId" />
		    <result column="order_id" jdbcType="BIGINT" property="orderId" />
		    <result column="return_bn" jdbcType="VARCHAR" property="returnBn" />
		    <result column="title" jdbcType="VARCHAR" property="title" />
		    <result column="old_return_id" jdbcType="BIGINT" property="oldReturnId" />
		    <result column="status" jdbcType="INTEGER" property="status" />
		    <result column="image_file3" jdbcType="VARCHAR" property="imageFile3" />
		    <result column="image_file" jdbcType="VARCHAR" property="imageFile" />
		    <result column="image_file2" jdbcType="VARCHAR" property="imageFile2" />
		    <result column="intereven_image" jdbcType="VARCHAR" property="interevenImage" />
		    <result column="add_time" jdbcType="TIMESTAMP" property="addTime" />
		    <result column="seller_amount" jdbcType="DECIMAL" property="sellerAmount" />
		    <result column="amount" jdbcType="DECIMAL" property="amount" />
		    <result column="shipping_amount" jdbcType="DECIMAL" property="shippingAmount" />
		    <result column="close_time" jdbcType="TIMESTAMP" property="closeTime" />
		    <result column="store_id" jdbcType="BIGINT" property="storeId" />
		    <result column="refund_type" jdbcType="INTEGER" property="refundType" />
		    <result column="is_intervene" jdbcType="INTEGER" property="isIntervene" />
		    <result column="intervene_reason" jdbcType="INTEGER" property="interveneReason" />
		    <result column="intervene_phone" jdbcType="VARCHAR" property="intervenePhone" />
		    <result column="intervene_mail" jdbcType="VARCHAR" property="interveneMail" />
		    <result column="ship_cost" jdbcType="DECIMAL" property="shipCost" />
		    <result column="amount_seller" jdbcType="DECIMAL" property="amountSeller" />
		    <result column="is_safeguard" jdbcType="INTEGER" property="isSafeguard" />
		    <result column="safeguard_type" jdbcType="INTEGER" property="safeguardType" />
		    <result column="safeguard_require" jdbcType="INTEGER" property="safeguardRequire" />
		    <result column="refund_address" jdbcType="VARCHAR" property="refundAddress" />
		    <result column="return_score" jdbcType="DECIMAL" property="returnScore" />
		    <result column="image_upload" jdbcType="VARCHAR" property="imageUpload" />
		    <result column="is_return_money" jdbcType="INTEGER" property="isReturnMoney" />
		    <result column="return_money_id" jdbcType="VARCHAR" property="returnMoneyId" />
		    <result column="disabled" jdbcType="INTEGER" property="disabled" />
		    <result column="content" jdbcType="LONGVARCHAR" property="content" />
		    <result column="intereven_comment" jdbcType="LONGVARCHAR" property="interevenComment" />
		    <result column="product_data" jdbcType="LONGVARCHAR" property="productData" />
		    <result column="comment" jdbcType="LONGVARCHAR" property="comment" />
		    <result column="seller_reason" jdbcType="LONGVARCHAR" property="sellerReason" />
		    <result column="seller_comment" jdbcType="LONGVARCHAR" property="sellerComment" />
  			<collection property="logs" ofType="com.cnit.yoyo.model.trade.AftersalesReturnLogWithBLOBs" column="return_id">
  				  <id column="log_id" jdbcType="BIGINT" property="logId" />
				  <result column="order_id" jdbcType="BIGINT" property="orderId" />
				  <result column="return_id" jdbcType="BIGINT" property="returnId" />
				  <result column="op_id" jdbcType="INTEGER" property="opId" />
				  <result column="op_name" jdbcType="VARCHAR" property="opName" />
				  <result column="alttime" jdbcType="TIMESTAMP" property="alttime" />
				  <result column="behavior" jdbcType="INTEGER" property="behavior" />
				  <result column="result" jdbcType="INTEGER" property="result" />
				  <result column="role" jdbcType="INTEGER" property="role" />
				  <result column="image_file" jdbcType="VARCHAR" property="imageFile" />
				  <result column="log_text" jdbcType="LONGVARCHAR" property="logText" />
    			  <result column="addon" jdbcType="LONGVARCHAR" property="addon" />
  			</collection>
  		</association>
  </resultMap>
  
  <sql id="Order_Refunds_Column_List" >
   t_order_refunds.refund_id,t_order_refunds.money,t_order_refunds.cur_money,t_order_refunds.bank,t_order_refunds.refund_account,t_order_refunds.account,t_order_refunds.currency,t_order_refunds.paycost,t_order_refunds.pay_type,t_order_refunds.
   status,t_order_refunds.refund_name,t_order_refunds.refund_ver,t_order_refunds.op_id,t_order_refunds.refund_bn,t_order_refunds.refund_app_id,t_order_refunds.t_payed,t_order_refunds.t_begin,t_order_refunds.
   t_confirm,t_order_refunds.memo,t_order_refunds.disabled,t_order_refunds.trade_no,t_order_refunds.refund_type,t_order_refunds.profit,t_order_refunds.score_cost,t_order_refunds.is_safeguard
  </sql>
  
  <sql id="Bills_Column_List">  
		t_order_bills.rel_id,t_order_bills.bill_type,t_order_bills.payment_id,t_order_bills.order_id,t_order_bills.pay_object,t_order_bills.bill_id,t_order_bills.money
  </sql>
  
  <sql id="Order_Column_List">
	t_orders.order_id,t_orders.company_id,t_orders.store_id,t_orders.member_id,t_orders.total_amount,t_orders.final_amount,t_orders.pay_status,t_orders.
    ship_status,t_orders.is_delivery,t_orders.discount_value,t_orders.createtime,t_orders.last_modified,t_orders.payment,t_orders.shipping_id,t_orders.
    shipping,t_orders.status,t_orders.confirm,t_orders.ship_area,t_orders.ship_name,t_orders.weight,t_orders.tostr,t_orders.itemnum,t_orders.ip,t_orders.ship_addr,t_orders.
    ship_zip,t_orders.ship_tel,t_orders.ship_email,t_orders.ship_time,t_orders.ship_mobile,t_orders.cost_item,t_orders.is_coupons,t_orders.cost_tax,t_orders.
    tax_company,t_orders.is_protect,t_orders.cost_protect,t_orders.cost_payment,t_orders.currency,t_orders.cur_rate,t_orders.score_u,t_orders.
    score_g,t_orders.discount,t_orders.pmt_goods,t_orders.pmt_order,t_orders.payed,t_orders.memo,t_orders.disabled,t_orders.mark_type,t_orders.mark_text,t_orders.
    cost_freight,t_orders.extend,t_orders.order_refer,t_orders.addon,t_orders.source,t_orders.confirm_time,t_orders.comments_count,t_orders.refund_status,t_orders.
    act_id,t_orders.order_type,t_orders.is_extend,t_orders.order_kind
  </sql>
  
  <select id="selectOrderRefundByMapParams" resultMap="OrderRfundResultMap" parameterType="java.util.Map" >
  	SELECT
		<include refid = "Order_Refunds_Column_List" />, 
		<include refid = "Bills_Column_List" />,
		<include refid = "Order_Column_List" />,
		 t_members.nick_name,
		 t_members.name as member_name,
		 t_members.mobile,
		 t_members.tel,
		 t_members.email
	FROM
		t_order_refunds
	LEFT JOIN 
		t_order_bills ON t_order_refunds.refund_id = t_order_bills.refund_id
	LEFT JOIN 
		t_orders ON t_orders.order_id=t_order_bills.order_id
	LEFT JOIN
		t_members ON t_members.member_id=t_orders.member_id
	WHERE
		t_orders.store_id=#{storeId}
  </select>
  
  <select id="selectOrderRefundById" resultMap="OrderRfundResultMap" parameterType="java.lang.String">
	  	SELECT
			t_order_refunds.t_begin,
		  	t_order_refunds.money,
		  	t_aftersales_return_product.safeguard_type,
		  	t_aftersales_return_product.image_file,
		  	t_aftersales_return_product.image_file2,
		  	t_aftersales_return_product.image_file3,
		  	t_aftersales_return_product.content,
		  	t_aftersales_return_product.status,
		  	t_aftersales_return_log.log_id, 	  	
		  	t_aftersales_return_log.op_id, 
		  	t_aftersales_return_log.op_name, 
		  	t_aftersales_return_log.log_text, 
		  	t_aftersales_return_log.alttime,
		  	t_aftersales_return_log.behavior,
		  	t_aftersales_return_log.role,
		  	t_orders.order_id,
		  	t_orders.pay_status,
		  	t_orders.status as order_status,
		  	t_order_items.nums,
		  	t_order_items.item_id,
		  	t_products.product_id,
		  	t_products.name,
		  	t_products.bn
		FROM
			t_order_refunds
		LEFT JOIN
			t_order_bills
		ON 
			t_order_refunds.refund_id = t_order_bills.refund_id		
		LEFT JOIN
			t_orders
		ON
			t_orders.order_id=t_order_bills.order_id
		LEFT JOIN
			t_aftersales_return_product
		ON
			t_aftersales_return_product.order_id=t_orders.order_id
		LEFT JOIN
			t_aftersales_return_log
		ON
			t_aftersales_return_product.return_id=t_aftersales_return_log.return_id
		LEFT join
			t_order_items
		ON
			t_order_items.order_id=t_orders.order_id
		LEFT join
			t_products
		ON
			t_order_items.product_id=t_products.product_id
		WHERE
			t_order_refunds.refund_id=#{refundId}
  </select>
  
</mapper>