<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cnit.yoyo.dao.trade.AftersalesReturnProductMapper">
  <resultMap id="BaseResultMap" type="com.cnit.yoyo.reship.model.AftersalesReturnProduct">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    <id column="return_id" jdbcType="BIGINT" property="returnId" />
    <result column="order_id" jdbcType="BIGINT" property="orderId" />
    <result column="return_bn" jdbcType="VARCHAR" property="returnBn" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="appeal_return_id" jdbcType="BIGINT" property="appealReturnId" />
    <result column="status" jdbcType="INTEGER" property="status" />
    <result column="image_file3" jdbcType="VARCHAR" property="imageFile3" />
    <result column="image_file" jdbcType="VARCHAR" property="imageFile" />
    <result column="image_file2" jdbcType="VARCHAR" property="imageFile2" />
    <result column="intereven_image" jdbcType="VARCHAR" property="interevenImage" />
    <result column="add_time" jdbcType="TIMESTAMP" property="addTime" />
    <result column="seller_amount" jdbcType="DECIMAL" property="sellerAmount" />
    <result column="amount" jdbcType="DECIMAL" property="amount" />
    <result column="shipping_amount" jdbcType="DECIMAL" property="shippingAmount" />
    <result column="close_time" jdbcType="TIMESTAMP" property="closeTime" />
    <result column="store_id" jdbcType="BIGINT" property="storeId" />
    <result column="refund_type" jdbcType="INTEGER" property="refundType" />
    <result column="is_intervene" jdbcType="INTEGER" property="isIntervene" />
    <result column="intervene_reason" jdbcType="INTEGER" property="interveneReason" />
    <result column="intervene_phone" jdbcType="VARCHAR" property="intervenePhone" />
    <result column="intervene_mail" jdbcType="VARCHAR" property="interveneMail" />
    <result column="ship_cost" jdbcType="DECIMAL" property="shipCost" />
    <result column="amount_seller" jdbcType="DECIMAL" property="amountSeller" />
    <result column="is_safeguard" jdbcType="INTEGER" property="isSafeguard" />
    <result column="safeguard_type" jdbcType="INTEGER" property="safeguardType" />
    <result column="safeguard_require" jdbcType="INTEGER" property="safeguardRequire" />
    <result column="refund_address" jdbcType="VARCHAR" property="refundAddress" />
    <result column="return_score" jdbcType="DECIMAL" property="returnScore" />
    <result column="image_upload" jdbcType="VARCHAR" property="imageUpload" />
    <result column="is_return_money" jdbcType="INTEGER" property="isReturnMoney" />
    <result column="return_money_id" jdbcType="VARCHAR" property="returnMoneyId" />
    <result column="disabled" jdbcType="INTEGER" property="disabled" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="after_items_id" jdbcType="BIGINT" property="itemsId" />
    <result column="after_product_id" jdbcType="BIGINT" property="productId" />
    <result column="after_nums" jdbcType="INTEGER" property="nums" />
    <result column="member_name" jdbcType="VARCHAR" property="memberName" />
    <result column="member_phone" jdbcType="VARCHAR" property="memberPhone" />
    <result column="member_image_path" jdbcType="VARCHAR" property="memberImagePath" />
    <result column="store_name" jdbcType="VARCHAR" property="storeName" />
    <result column="appeal" jdbcType="INTEGER" property="appeal" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.cnit.yoyo.model.trade.AftersalesReturnProductWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    <result column="content" jdbcType="LONGVARCHAR" property="content" />
    <result column="intereven_comment" jdbcType="LONGVARCHAR" property="interevenComment" />
    <result column="product_data" jdbcType="LONGVARCHAR" property="productData" />
    <result column="comment" jdbcType="LONGVARCHAR" property="comment" />
    <result column="seller_reason" jdbcType="LONGVARCHAR" property="sellerReason" />
    <result column="seller_comment" jdbcType="LONGVARCHAR" property="sellerComment" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    return_id, order_id, return_bn, title, appeal_return_id, status, image_file3, image_file, 
    image_file2, intereven_image, add_time, seller_amount, amount, shipping_amount, close_time, 
    store_id, refund_type, is_intervene, intervene_reason, intervene_phone, intervene_mail, 
    ship_cost, amount_seller, is_safeguard, safeguard_type, safeguard_require, refund_address,appeal, 
    return_score, image_upload, is_return_money, return_money_id, disabled,create_time,items_id as after_items_id,product_id as after_product_id,nums as after_nums
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    content, intereven_comment, product_data, comment, seller_reason, seller_comment
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from t_aftersales_return_product
    where return_id = #{returnId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    delete from t_aftersales_return_product
    where return_id = #{returnId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.cnit.yoyo.model.trade.AftersalesReturnProductWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    insert into t_aftersales_return_product (return_id, order_id, return_bn, 
      title, appeal_return_id, status, 
      image_file3, image_file, image_file2, 
      intereven_image, add_time, seller_amount, 
      amount, shipping_amount, close_time, 
      store_id, refund_type, is_intervene, 
      intervene_reason, intervene_phone, intervene_mail, 
      ship_cost, amount_seller, is_safeguard, 
      safeguard_type, safeguard_require, refund_address, 
      return_score, image_upload, is_return_money, 
      return_money_id, disabled, content, 
      intereven_comment, product_data, 
      comment, seller_reason, seller_comment,appeal
      )
    values (#{returnId,jdbcType=BIGINT}, #{orderId,jdbcType=BIGINT}, #{returnBn,jdbcType=VARCHAR}, 
      #{title,jdbcType=VARCHAR}, #{appealReturnId,jdbcType=BIGINT}, #{status,jdbcType=INTEGER}, 
      #{imageFile3,jdbcType=VARCHAR}, #{imageFile,jdbcType=VARCHAR}, #{imageFile2,jdbcType=VARCHAR}, 
      #{interevenImage,jdbcType=VARCHAR}, #{addTime,jdbcType=TIMESTAMP}, #{sellerAmount,jdbcType=DECIMAL}, 
      #{amount,jdbcType=DECIMAL}, #{shippingAmount,jdbcType=DECIMAL}, #{closeTime,jdbcType=TIMESTAMP}, 
      #{storeId,jdbcType=BIGINT}, #{refundType,jdbcType=INTEGER}, #{isIntervene,jdbcType=INTEGER}, 
      #{interveneReason,jdbcType=INTEGER}, #{intervenePhone,jdbcType=VARCHAR}, #{interveneMail,jdbcType=VARCHAR}, 
      #{shipCost,jdbcType=DECIMAL}, #{amountSeller,jdbcType=DECIMAL}, #{isSafeguard,jdbcType=INTEGER}, 
      #{safeguardType,jdbcType=INTEGER}, #{safeguardRequire,jdbcType=INTEGER}, #{refundAddress,jdbcType=VARCHAR}, 
      #{returnScore,jdbcType=DECIMAL}, #{imageUpload,jdbcType=VARCHAR}, #{isReturnMoney,jdbcType=INTEGER}, 
      #{returnMoneyId,jdbcType=VARCHAR}, #{disabled,jdbcType=INTEGER}, #{content,jdbcType=LONGVARCHAR}, 
      #{interevenComment,jdbcType=LONGVARCHAR}, #{productData,jdbcType=LONGVARCHAR}, 
      #{comment,jdbcType=LONGVARCHAR}, #{sellerReason,jdbcType=LONGVARCHAR}, #{sellerComment,jdbcType=LONGVARCHAR},
      #{appeal,jdbcType=INTEGER}
      )
  </insert>
  
  <insert id="insertSelective" parameterType="com.cnit.yoyo.model.trade.AftersalesReturnProductWithBLOBs" useGeneratedKeys="true" keyProperty="returnId">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
   insert into t_aftersales_return_product
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="orderId != null">
        order_id,
      </if>
      <if test="returnBn != null">
        return_bn,
      </if>
      <if test="title != null">
        title,
      </if>
      <if test="appealReturnId != null">
        appeal_return_id,
      </if>
      <if test="status != null">
        status,
      </if>
      <if test="imageFile3 != null">
        image_file3,
      </if>
      <if test="imageFile != null">
        image_file,
      </if>
      <if test="imageFile2 != null">
        image_file2,
      </if>
      <if test="interevenImage != null">
        intereven_image,
      </if>
      <if test="addTime != null">
        add_time,
      </if>
      <if test="sellerAmount != null">
        seller_amount,
      </if>
      <if test="amount != null">
        amount,
      </if>
      <if test="shippingAmount != null">
        shipping_amount,
      </if>
      <if test="closeTime != null">
        close_time,
      </if>
      <if test="storeId != null">
        store_id,
      </if>
      <if test="refundType != null">
        refund_type,
      </if>
      <if test="isIntervene != null">
        is_intervene,
      </if>
      <if test="interveneReason != null">
        intervene_reason,
      </if>
      <if test="intervenePhone != null">
        intervene_phone,
      </if>
      <if test="interveneMail != null">
        intervene_mail,
      </if>
      <if test="shipCost != null">
        ship_cost,
      </if>
      <if test="amountSeller != null">
        amount_seller,
      </if>
      <if test="isSafeguard != null">
        is_safeguard,
      </if>
      <if test="safeguardType != null">
        safeguard_type,
      </if>
      <if test="safeguardRequire != null">
        safeguard_require,
      </if>
      <if test="refundAddress != null">
        refund_address,
      </if>
      <if test="returnScore != null">
        return_score,
      </if>
      <if test="imageUpload != null">
        image_upload,
      </if>
      <if test="isReturnMoney != null">
        is_return_money,
      </if>
      <if test="returnMoneyId != null">
        return_money_id,
      </if>
      <if test="disabled != null">
        disabled,
      </if>
      <if test="content != null">
        content,
      </if>
      <if test="interevenComment != null">
        intereven_comment,
      </if>
      <if test="productData != null">
        product_data,
      </if>
      <if test="comment != null">
        comment,
      </if>
      <if test="sellerReason != null">
        seller_reason,
      </if>
      <if test="sellerComment != null">
        seller_comment,
      </if>
	  <if test="memberImagePath != null">
        member_image_path,
      </if>
	   <if test="memberName != null">
        member_name,
      </if>
	   <if test="memberPhone != null">
        member_phone,
      </if>
	  <if test="storeName != null">
        store_name,
      </if>
	  <if test="itemsId != null">
        items_id,
      </if>
	  <if test="nums != null">
        nums,
      </if>
	  <if test="productId != null">
        product_id,
      </if>
      <if test="appeal != null">
        appeal,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="orderId != null">
        #{orderId,jdbcType=BIGINT},
      </if>
      <if test="returnBn != null">
        #{returnBn,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="appealReturnId != null">
        #{appealReturnId,jdbcType=BIGINT},
      </if>
      <if test="status != null">
        #{status,jdbcType=INTEGER},
      </if>
      <if test="imageFile3 != null">
        #{imageFile3,jdbcType=VARCHAR},
      </if>
      <if test="imageFile != null">
        #{imageFile,jdbcType=VARCHAR},
      </if>
      <if test="imageFile2 != null">
        #{imageFile2,jdbcType=VARCHAR},
      </if>
      <if test="interevenImage != null">
        #{interevenImage,jdbcType=VARCHAR},
      </if>
      <if test="addTime != null">
        #{addTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sellerAmount != null">
        #{sellerAmount,jdbcType=DECIMAL},
      </if>
      <if test="amount != null">
        #{amount,jdbcType=DECIMAL},
      </if>
      <if test="shippingAmount != null">
        #{shippingAmount,jdbcType=DECIMAL},
      </if>
      <if test="closeTime != null">
        #{closeTime,jdbcType=TIMESTAMP},
      </if>
      <if test="storeId != null">
        #{storeId,jdbcType=BIGINT},
      </if>
      <if test="refundType != null">
        #{refundType,jdbcType=INTEGER},
      </if>
      <if test="isIntervene != null">
        #{isIntervene,jdbcType=INTEGER},
      </if>
      <if test="interveneReason != null">
        #{interveneReason,jdbcType=INTEGER},
      </if>
      <if test="intervenePhone != null">
        #{intervenePhone,jdbcType=VARCHAR},
      </if>
      <if test="interveneMail != null">
        #{interveneMail,jdbcType=VARCHAR},
      </if>
      <if test="shipCost != null">
        #{shipCost,jdbcType=DECIMAL},
      </if>
      <if test="amountSeller != null">
        #{amountSeller,jdbcType=DECIMAL},
      </if>
      <if test="isSafeguard != null">
        #{isSafeguard,jdbcType=INTEGER},
      </if>
      <if test="safeguardType != null">
        #{safeguardType,jdbcType=INTEGER},
      </if>
      <if test="safeguardRequire != null">
        #{safeguardRequire,jdbcType=INTEGER},
      </if>
      <if test="refundAddress != null">
        #{refundAddress,jdbcType=VARCHAR},
      </if>
      <if test="returnScore != null">
        #{returnScore,jdbcType=DECIMAL},
      </if>
      <if test="imageUpload != null">
        #{imageUpload,jdbcType=VARCHAR},
      </if>
      <if test="isReturnMoney != null">
        #{isReturnMoney,jdbcType=INTEGER},
      </if>
      <if test="returnMoneyId != null">
        #{returnMoneyId,jdbcType=VARCHAR},
      </if>
      <if test="disabled != null">
        #{disabled,jdbcType=INTEGER},
      </if>
      <if test="content != null">
        #{content,jdbcType=LONGVARCHAR},
      </if>
      <if test="interevenComment != null">
        #{interevenComment,jdbcType=LONGVARCHAR},
      </if>
      <if test="productData != null">
        #{productData,jdbcType=LONGVARCHAR},
      </if>
      <if test="comment != null">
        #{comment,jdbcType=LONGVARCHAR},
      </if>
      <if test="sellerReason != null">
        #{sellerReason,jdbcType=LONGVARCHAR},
      </if>
      <if test="sellerComment != null">
        #{sellerComment,jdbcType=LONGVARCHAR},
      </if>
	  <if test="memberImagePath != null">
        #{memberImagePath,jdbcType=VARCHAR},
      </if>
	   <if test="memberName != null">
        #{memberName,jdbcType=VARCHAR},
      </if>
	  <if test="memberPhone != null">
        #{memberPhone,jdbcType=VARCHAR},
      </if>
	  <if test="storeName != null">
        #{storeName,jdbcType=VARCHAR},
      </if>
	  <if test="itemsId != null">
        #{itemsId,jdbcType=BIGINT},
      </if>
	  <if test="nums != null">
        #{nums,jdbcType=INTEGER},
      </if>
	  <if test="productId != null">
        #{productId,jdbcType=BIGINT},
      </if>	  
      <if test="appeal != null">
      	#{appeal,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.cnit.yoyo.model.trade.AftersalesReturnProductWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    update t_aftersales_return_product
    <set>
      <if test="orderId != null">
        order_id = #{orderId,jdbcType=BIGINT},
      </if>
      <if test="returnBn != null">
        return_bn = #{returnBn,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="appealReturnId != null">
        appeal_return_id = #{appealReturnId,jdbcType=BIGINT},
      </if>
      <if test="status != null">
        status = #{status,jdbcType=INTEGER},
      </if>
      <if test="imageFile3 != null">
        image_file3 = #{imageFile3,jdbcType=VARCHAR},
      </if>
      <if test="imageFile != null">
        image_file = #{imageFile,jdbcType=VARCHAR},
      </if>
      <if test="imageFile2 != null">
        image_file2 = #{imageFile2,jdbcType=VARCHAR},
      </if>
      <if test="interevenImage != null">
        intereven_image = #{interevenImage,jdbcType=VARCHAR},
      </if>
      <if test="addTime != null">
        add_time = #{addTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sellerAmount != null">
        seller_amount = #{sellerAmount,jdbcType=DECIMAL},
      </if>
      <if test="amount != null">
        amount = #{amount,jdbcType=DECIMAL},
      </if>
      <if test="shippingAmount != null">
        shipping_amount = #{shippingAmount,jdbcType=DECIMAL},
      </if>
      <if test="closeTime != null">
        close_time = #{closeTime,jdbcType=TIMESTAMP},
      </if>
      <if test="storeId != null">
        store_id = #{storeId,jdbcType=BIGINT},
      </if>
      <if test="refundType != null">
        refund_type = #{refundType,jdbcType=INTEGER},
      </if>
      <if test="isIntervene != null">
        is_intervene = #{isIntervene,jdbcType=INTEGER},
      </if>
      <if test="interveneReason != null">
        intervene_reason = #{interveneReason,jdbcType=INTEGER},
      </if>
      <if test="intervenePhone != null">
        intervene_phone = #{intervenePhone,jdbcType=VARCHAR},
      </if>
      <if test="interveneMail != null">
        intervene_mail = #{interveneMail,jdbcType=VARCHAR},
      </if>
      <if test="shipCost != null">
        ship_cost = #{shipCost,jdbcType=DECIMAL},
      </if>
      <if test="amountSeller != null">
        amount_seller = #{amountSeller,jdbcType=DECIMAL},
      </if>
      <if test="isSafeguard != null">
        is_safeguard = #{isSafeguard,jdbcType=INTEGER},
      </if>
      <if test="safeguardType != null">
        safeguard_type = #{safeguardType,jdbcType=INTEGER},
      </if>
      <if test="safeguardRequire != null">
        safeguard_require = #{safeguardRequire,jdbcType=INTEGER},
      </if>
      <if test="refundAddress != null">
        refund_address = #{refundAddress,jdbcType=VARCHAR},
      </if>
      <if test="returnScore != null">
        return_score = #{returnScore,jdbcType=DECIMAL},
      </if>
      <if test="imageUpload != null">
        image_upload = #{imageUpload,jdbcType=VARCHAR},
      </if>
      <if test="isReturnMoney != null">
        is_return_money = #{isReturnMoney,jdbcType=INTEGER},
      </if>
      <if test="returnMoneyId != null">
        return_money_id = #{returnMoneyId,jdbcType=VARCHAR},
      </if>
      <if test="disabled != null">
        disabled = #{disabled,jdbcType=INTEGER},
      </if>
      <if test="content != null">
        content = #{content,jdbcType=LONGVARCHAR},
      </if>
      <if test="interevenComment != null">
        intereven_comment = #{interevenComment,jdbcType=LONGVARCHAR},
      </if>
      <if test="productData != null">
        product_data = #{productData,jdbcType=LONGVARCHAR},
      </if>
      <if test="comment != null">
        comment = #{comment,jdbcType=LONGVARCHAR},
      </if>
      <if test="sellerReason != null">
        seller_reason = #{sellerReason,jdbcType=LONGVARCHAR},
      </if>
      <if test="sellerComment != null">
        seller_comment = #{sellerComment,jdbcType=LONGVARCHAR},
      </if>
      <if test="appeal != null">
      	appeal = #{appeal,jdbcType=INTEGER},
      </if>
    </set>
    where return_id = #{returnId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.cnit.yoyo.model.trade.AftersalesReturnProductWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    update t_aftersales_return_product
    set order_id = #{orderId,jdbcType=BIGINT},
      return_bn = #{returnBn,jdbcType=VARCHAR},
      title = #{title,jdbcType=VARCHAR},
      appeal_return_id = #{appealReturnId,jdbcType=BIGINT},
      status = #{status,jdbcType=INTEGER},
      image_file3 = #{imageFile3,jdbcType=VARCHAR},
      image_file = #{imageFile,jdbcType=VARCHAR},
      image_file2 = #{imageFile2,jdbcType=VARCHAR},
      intereven_image = #{interevenImage,jdbcType=VARCHAR},
      add_time = #{addTime,jdbcType=TIMESTAMP},
      seller_amount = #{sellerAmount,jdbcType=DECIMAL},
      amount = #{amount,jdbcType=DECIMAL},
      shipping_amount = #{shippingAmount,jdbcType=DECIMAL},
      close_time = #{closeTime,jdbcType=TIMESTAMP},
      store_id = #{storeId,jdbcType=BIGINT},
      refund_type = #{refundType,jdbcType=INTEGER},
      is_intervene = #{isIntervene,jdbcType=INTEGER},
      intervene_reason = #{interveneReason,jdbcType=INTEGER},
      intervene_phone = #{intervenePhone,jdbcType=VARCHAR},
      intervene_mail = #{interveneMail,jdbcType=VARCHAR},
      ship_cost = #{shipCost,jdbcType=DECIMAL},
      amount_seller = #{amountSeller,jdbcType=DECIMAL},
      is_safeguard = #{isSafeguard,jdbcType=INTEGER},
      safeguard_type = #{safeguardType,jdbcType=INTEGER},
      safeguard_require = #{safeguardRequire,jdbcType=INTEGER},
      refund_address = #{refundAddress,jdbcType=VARCHAR},
      return_score = #{returnScore,jdbcType=DECIMAL},
      image_upload = #{imageUpload,jdbcType=VARCHAR},
      is_return_money = #{isReturnMoney,jdbcType=INTEGER},
      return_money_id = #{returnMoneyId,jdbcType=VARCHAR},
      disabled = #{disabled,jdbcType=INTEGER},
      content = #{content,jdbcType=LONGVARCHAR},
      intereven_comment = #{interevenComment,jdbcType=LONGVARCHAR},
      product_data = #{productData,jdbcType=LONGVARCHAR},
      comment = #{comment,jdbcType=LONGVARCHAR},
      seller_reason = #{sellerReason,jdbcType=LONGVARCHAR},
      seller_comment = #{sellerComment,jdbcType=LONGVARCHAR},
      appeal = #{appeal,jdbcType=INTEGER}
    where return_id = #{returnId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.cnit.yoyo.model.trade.AftersalesReturnProduct">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Apr 18 17:01:00 CST 2015.
    -->
    update t_aftersales_return_product
    set order_id = #{orderId,jdbcType=BIGINT},
      return_bn = #{returnBn,jdbcType=VARCHAR},
      title = #{title,jdbcType=VARCHAR},
      appeal_return_id = #{appealReturnId,jdbcType=BIGINT},
      status = #{status,jdbcType=INTEGER},
      image_file3 = #{imageFile3,jdbcType=VARCHAR},
      image_file = #{imageFile,jdbcType=VARCHAR},
      image_file2 = #{imageFile2,jdbcType=VARCHAR},
      intereven_image = #{interevenImage,jdbcType=VARCHAR},
      add_time = #{addTime,jdbcType=TIMESTAMP},
      seller_amount = #{sellerAmount,jdbcType=DECIMAL},
      amount = #{amount,jdbcType=DECIMAL},
      shipping_amount = #{shippingAmount,jdbcType=DECIMAL},
      close_time = #{closeTime,jdbcType=TIMESTAMP},
      store_id = #{storeId,jdbcType=BIGINT},
      refund_type = #{refundType,jdbcType=INTEGER},
      is_intervene = #{isIntervene,jdbcType=INTEGER},
      intervene_reason = #{interveneReason,jdbcType=INTEGER},
      intervene_phone = #{intervenePhone,jdbcType=VARCHAR},
      intervene_mail = #{interveneMail,jdbcType=VARCHAR},
      ship_cost = #{shipCost,jdbcType=DECIMAL},
      amount_seller = #{amountSeller,jdbcType=DECIMAL},
      is_safeguard = #{isSafeguard,jdbcType=INTEGER},
      safeguard_type = #{safeguardType,jdbcType=INTEGER},
      safeguard_require = #{safeguardRequire,jdbcType=INTEGER},
      refund_address = #{refundAddress,jdbcType=VARCHAR},
      return_score = #{returnScore,jdbcType=DECIMAL},
      image_upload = #{imageUpload,jdbcType=VARCHAR},
      is_return_money = #{isReturnMoney,jdbcType=INTEGER},
      return_money_id = #{returnMoneyId,jdbcType=VARCHAR},
      disabled = #{disabled,jdbcType=INTEGER},
      appeal = #{appeal,jdbcType=INTEGER}
    where return_id = #{returnId,jdbcType=BIGINT}
  </update>
  
  <resultMap type="com.cnit.yoyo.model.trade.dto.ReturnProductDTO" id="Return_Product_Result" extends="ResultMapWithBLOBs">
  	<association property="order" column="order_id" javaType="com.cnit.yoyo.model.order.Order">
    	<id column="order_id" jdbcType="BIGINT" property="orderId" />
	    <result column="company_id" jdbcType="BIGINT" property="companyId" />
	    <result column="store_id" jdbcType="BIGINT" property="storeId" />
	    <result column="MEMBER_ID" jdbcType="INTEGER" property="memberId" />
	    <result column="total_amount" jdbcType="DECIMAL" property="totalAmount" />
	    <result column="final_amount" jdbcType="DECIMAL" property="finalAmount" />
	    <result column="pay_status" jdbcType="INTEGER" property="payStatus" />
	    <result column="is_delivery" jdbcType="VARCHAR" property="isDelivery" />
	    <result column="discount_value" jdbcType="DECIMAL" property="discountValue" />
	    <result column="createtime" jdbcType="TIMESTAMP" property="createtime" />
	    <result column="last_modified" jdbcType="TIMESTAMP" property="lastModified" />
	    <result column="payment" jdbcType="VARCHAR" property="payment" />
	    <result column="payment_id" jdbcType="INTEGER" property="paymentId" />
	    <result column="shipping" jdbcType="VARCHAR" property="shipping" />
	    <result column="status" jdbcType="INTEGER" property="status" />
	    <result column="confirm" jdbcType="VARCHAR" property="confirm" />
	    <result column="ship_area" jdbcType="VARCHAR" property="shipArea" />
	    <result column="ship_name" jdbcType="VARCHAR" property="shipName" />
	    <result column="weight" jdbcType="DECIMAL" property="weight" />
	    <result column="tostr" jdbcType="VARCHAR" property="tostr" />
	    <result column="itemnum" jdbcType="INTEGER" property="itemnum" />
	    <result column="ip" jdbcType="VARCHAR" property="ip" />
	    <result column="ship_addr" jdbcType="VARCHAR" property="shipAddr" />
	    <result column="ship_zip" jdbcType="VARCHAR" property="shipZip" />
	    <result column="ship_tel" jdbcType="VARCHAR" property="shipTel" />
	    <result column="ship_email" jdbcType="VARCHAR" property="shipEmail" />
	    <result column="ship_time" jdbcType="VARCHAR" property="shipTime" />
	    <result column="ship_mobile" jdbcType="VARCHAR" property="shipMobile" />
	    <result column="cost_item" jdbcType="DECIMAL" property="costItem" />
	    <result column="is_coupons" jdbcType="INTEGER" property="isCoupons" />
	    <result column="cost_tax" jdbcType="DECIMAL" property="costTax" />
	    <result column="tax_company" jdbcType="VARCHAR" property="taxCompany" />
	    <result column="is_protect" jdbcType="VARCHAR" property="isProtect" />
	    <result column="cost_protect" jdbcType="DECIMAL" property="costProtect" />
	    <result column="cost_payment" jdbcType="DECIMAL" property="costPayment" />
	    <result column="currency" jdbcType="VARCHAR" property="currency" />
	    <result column="cur_rate" jdbcType="DECIMAL" property="curRate" />
	    <result column="score_u" jdbcType="DECIMAL" property="scoreU" />
	    <result column="score_g" jdbcType="DECIMAL" property="scoreG" />
	    <result column="discount" jdbcType="DECIMAL" property="discount" />
	    <result column="pmt_goods" jdbcType="DECIMAL" property="pmtGoods" />
	    <result column="pmt_order" jdbcType="DECIMAL" property="pmtOrder" />
	    <result column="payed" jdbcType="DECIMAL" property="payed" />
	    <result column="memo" jdbcType="VARCHAR" property="memo" />
	    <result column="disabled" jdbcType="VARCHAR" property="disabled" />
	    <result column="mark_type" jdbcType="VARCHAR" property="markType" />
	    <result column="mark_text" jdbcType="VARCHAR" property="markText" />
	    <result column="cost_freight" jdbcType="DECIMAL" property="costFreight" />
	    <result column="extend" jdbcType="VARCHAR" property="extend" />
	    <result column="order_refer" jdbcType="VARCHAR" property="orderRefer" />
	    <result column="addon" jdbcType="VARCHAR" property="addon" />
	    <result column="source" jdbcType="VARCHAR" property="source" />
	    <result column="confirm_time" jdbcType="TIMESTAMP" property="confirmTime" />
	    <result column="comments_count" jdbcType="INTEGER" property="commentsCount" />
	    <result column="refund_status" jdbcType="VARCHAR" property="refundStatus" />
	    <result column="act_id" jdbcType="INTEGER" property="actId" />
	    <result column="order_type" jdbcType="VARCHAR" property="orderType" />
	    <result column="is_extend" jdbcType="VARCHAR" property="isExtend" />
	    <result column="order_kind" jdbcType="VARCHAR" property="orderKind" />
	    <result column="order_kind" jdbcType="VARCHAR" property="orderKind" />
	    

	    <result column="nick_name" jdbcType="VARCHAR" property="member.nickName" />
	    <result column="member_name" jdbcType="VARCHAR" property="member.name" />
	    <result column="mobile" jdbcType="VARCHAR" property="member.mobile" />
	    <result column="tel" jdbcType="VARCHAR" property="member.tel" />
	    <result column="email" jdbcType="VARCHAR" property="member.email" />
	
	    
	    <collection property="orderItems" ofType="com.cnit.yoyo.model.order.OrderItems" column="order_id">
			<id column="item_id" property="itemId" jdbcType="INTEGER" />
		    <result column="order_id" property="orderId" jdbcType="BIGINT" />
		    <result column="product_id" property="productId" jdbcType="INTEGER" />
		    <result column="bn" property="bn" jdbcType="VARCHAR" />
		    <result column="product_name" property="name" jdbcType="VARCHAR" />
		    <result column="price" property="price" jdbcType="DECIMAL" />
		    <result column="g_pric" property="gPric" jdbcType="DECIMAL" />
		    <result column="cost" property="cost" jdbcType="DECIMAL" />
		    <result column="amount" property="amount" jdbcType="DECIMAL" />
		    <result column="score" property="score" jdbcType="INTEGER" />
		    <result column="weight" property="weight" jdbcType="INTEGER" />
		    <result column="nums" property="nums" jdbcType="REAL" />
		    <result column="sendnum" property="sendnum" jdbcType="REAL" />
		    <result column="item_type" property="itemType" jdbcType="INTEGER" />
		    <association property="product" column="product_id" javaType="com.cnit.yoyo.model.goods.Product">  
	           <id column="product_id" property="productId" jdbcType="INTEGER" />
			    <result column="goods_id" property="goodsId" jdbcType="INTEGER" />
			    <result column="barcode" property="barcode" jdbcType="VARCHAR" />
			    <result column="title" property="title" jdbcType="VARCHAR" />
			    <result column="product_bn" property="bn" jdbcType="VARCHAR" />
			    <result column="price" property="price" jdbcType="DECIMAL" />
			    <result column="cost" property="cost" jdbcType="DECIMAL" />
			    <result column="mktprice" property="mktprice" jdbcType="DECIMAL" />
			    <result column="product_name" property="name" jdbcType="VARCHAR" />
			    <result column="weight" property="weight" jdbcType="DECIMAL" />
			    <result column="unit" property="unit" jdbcType="VARCHAR" />
			    <result column="store" property="store" jdbcType="DECIMAL" />
			    <result column="store_place" property="storePlace" jdbcType="VARCHAR" />
			    <result column="freez" property="freez" jdbcType="INTEGER" />
			    <result column="goods_type" property="goodsType" jdbcType="VARCHAR" />
			    <result column="last_modify" property="lastModify" jdbcType="TIMESTAMP" />
			    <result column="uptime" property="uptime" jdbcType="TIMESTAMP" />
			    <result column="disabled" property="disabled" jdbcType="VARCHAR" />
			    <result column="marketable" property="marketable" jdbcType="VARCHAR" />
				<result column="picture_path" property="picturePath" jdbcType="VARCHAR" />
	        </association>  
		</collection>
	    
    </association>
 	<collection property="logs" ofType="com.cnit.yoyo.model.trade.AftersalesReturnLogWithBLOBs" column="return_id">
		<id column="log_id" jdbcType="BIGINT" property="logId" />
		<result column="order_id" jdbcType="BIGINT" property="orderId" />
		<result column="return_id" jdbcType="BIGINT" property="returnId" />
		<result column="op_id" jdbcType="INTEGER" property="opId" />
		<result column="op_name" jdbcType="VARCHAR" property="opName" />
		<result column="alttime" jdbcType="TIMESTAMP" property="alttime" />
		<result column="behavior" jdbcType="INTEGER" property="behavior" />
		<result column="result" jdbcType="INTEGER" property="result" />
		<result column="role" jdbcType="INTEGER" property="role" />
		<result column="image_file" jdbcType="VARCHAR" property="imageFile" />
		<result column="log_text" jdbcType="LONGVARCHAR" property="logText" />
		<result column="addon" jdbcType="LONGVARCHAR" property="addon" />
	</collection>
  </resultMap>
  
  <sql id="Return_Product_Column_List">
    t_aftersales_return_product.return_id,t_aftersales_return_product.order_id,t_aftersales_return_product.return_bn,t_aftersales_return_product.title,t_aftersales_return_product.appeal_return_id,t_aftersales_return_product.status,t_aftersales_return_product.image_file3,t_aftersales_return_product.image_file,t_aftersales_return_product.
    image_file2,t_aftersales_return_product.intereven_image,t_aftersales_return_product.add_time,t_aftersales_return_product.seller_amount,t_aftersales_return_product.amount,t_aftersales_return_product.shipping_amount,t_aftersales_return_product.close_time,t_aftersales_return_product.
    store_id,t_aftersales_return_product.refund_type,t_aftersales_return_product.is_intervene,t_aftersales_return_product.intervene_reason,t_aftersales_return_product.intervene_phone,t_aftersales_return_product.intervene_mail,t_aftersales_return_product.
    ship_cost,t_aftersales_return_product.amount_seller,t_aftersales_return_product.is_safeguard,t_aftersales_return_product.safeguard_type,t_aftersales_return_product.safeguard_require,t_aftersales_return_product.refund_address,t_aftersales_return_product.
    return_score,t_aftersales_return_product.image_upload,t_aftersales_return_product.is_return_money,t_aftersales_return_product.return_money_id,t_aftersales_return_product.disabled,t_aftersales_return_product.create_time,
    content,t_aftersales_return_product.intereven_comment,t_aftersales_return_product.product_data,t_aftersales_return_product.comment,t_aftersales_return_product.seller_reason,t_aftersales_return_product.seller_comment,
    t_aftersales_return_product.items_id as after_items_id,t_aftersales_return_product.product_id as after_product_id,t_aftersales_return_product.nums as after_nums,t_aftersales_return_product.member_image_path,
    t_aftersales_return_product.member_name,t_aftersales_return_product.member_phone,t_aftersales_return_product.store_name
  </sql>
  
  <sql id="Return_Log_Column_List">
    t_aftersales_return_log.log_id,t_aftersales_return_log.return_id,t_aftersales_return_log.op_id,t_aftersales_return_log.op_name,t_aftersales_return_log.alttime,t_aftersales_return_log.behavior,t_aftersales_return_log.result,t_aftersales_return_log.role,t_aftersales_return_log.image_file,t_aftersales_return_log.log_text,t_aftersales_return_log.addon
  </sql>
  
  <sql id="Order_Column_List">
	t_orders.order_id,t_orders.company_id,t_orders.store_id,t_orders.member_id,t_orders.total_amount,t_orders.final_amount,t_orders.pay_status,t_orders.
    ship_status,t_orders.is_delivery,t_orders.discount_value,t_orders.createtime,t_orders.last_modified,t_orders.payment,t_orders.payment_id,t_orders.
    shipping,t_orders.status,t_orders.confirm,t_orders.ship_area,t_orders.ship_name,t_orders.weight,t_orders.tostr,t_orders.itemnum,t_orders.ip,t_orders.ship_addr,t_orders.
    ship_zip,t_orders.ship_tel,t_orders.ship_email,t_orders.ship_time,t_orders.ship_mobile,t_orders.cost_item,t_orders.is_coupons,t_orders.cost_tax,t_orders.
    tax_company,t_orders.is_protect,t_orders.cost_protect,t_orders.cost_payment,t_orders.currency,t_orders.cur_rate,t_orders.score_u,t_orders.
    score_g,t_orders.discount,t_orders.pmt_goods,t_orders.pmt_order,t_orders.payed,t_orders.memo,t_orders.disabled,t_orders.mark_type,t_orders.mark_text,t_orders.
    cost_freight,t_orders.extend,t_orders.order_refer,t_orders.addon,t_orders.source,t_orders.confirm_time,t_orders.comments_count,t_orders.refund_status,t_orders.
    act_id,t_orders.order_type,t_orders.is_extend,t_orders.order_kind
  </sql>
  
   <sql id="Order_Items_Column_List" >
    t_order_items.item_id,t_order_items.order_id,t_order_items.product_id,t_order_items.bn,t_order_items.name,t_order_items.price,t_order_items.g_pric,t_order_items.cost,t_order_items.amount,t_order_items.score,t_order_items.weight,t_order_items.nums,t_order_items.sendnum,t_order_items.item_type 
  </sql>
  
  <sql id="Product_Column_List">
	  t_products.picture_path,t_products.product_id,t_products.goods_id,t_products.barcode,t_products.title,t_products.bn as product_bn,t_products.price,t_products.cost,t_products.mktprice,t_products.name as product_name,t_products.weight,t_products.unit,t_products.store,t_products.store_place,t_products.freez,t_products.goods_type,t_products.last_modify,t_products.uptime,t_products.disabled,t_products.marketable
  </sql>
  
  <select id="selectReturnProductInfo" parameterType="java.util.Map" resultMap="Return_Product_Result">
	select
		<include refid="Return_Product_Column_List" />,
		<include refid="Order_Column_List" />,
		 t_members.nick_name,
		 t_members.name as member_name,
		 t_members.mobile,
		 t_members.tel,
		 t_members.email
	from
		t_aftersales_return_product
	left join 
		t_orders on t_aftersales_return_product.order_id = t_orders.order_id
	left join
		t_members on t_orders.member_id=t_members.member_id
	left join 
		t_painting_orders ON t_painting_orders.id = t_aftersales_return_product.order_id
	where
		(t_orders.store_id=#{storeId} or t_painting_orders.store_id=  #{storeId})
		<if test="isSafeguard != null">
			AND is_safeguard=#{isSafeguard}
		</if>
		<if test="safeguardRequire != null">
			AND	t_aftersales_return_product.safeguard_require=#{safeguardRequire}
		</if>
		<if test="statsuslist != null">
			AND t_aftersales_return_product.`status` IN
			<foreach collection="statsuslist" item="statsus" index="index" open="(" close=")" separator=",">
				#{statsus}
			</foreach>
		</if>
	order by 
		t_aftersales_return_product.add_time desc
  </select>
  
  
  <select id="selectOverdueReturnProductInfo" parameterType="java.util.Map" resultMap="Return_Product_Result">
	select
		<include refid="Return_Product_Column_List" />,
		<include refid="Order_Column_List" />,
		 t_members.nick_name,
		 t_members.name as member_name,
		 t_members.mobile,
		 t_members.tel,
		 t_members.email
	from
		t_aftersales_return_product
	left join 
		t_orders on t_aftersales_return_product.order_id = t_orders.order_id
	left join
		t_members on t_orders.member_id=t_members.member_id
	left join 
		t_painting_orders ON t_painting_orders.id = t_aftersales_return_product.order_id
	where				
		t_aftersales_return_product.`status` = 1
	<![CDATA[
	AND 
		t_aftersales_return_product.add_time<(SELECT str_to_date(date_sub(NOW(),interval 7 day),'%Y-%m-%d %H:%i:%s')after_date)
	]]>			
	order by 
		t_aftersales_return_product.add_time desc
  </select>
  
  <select id="selectReturnProductById" parameterType="java.lang.Long" resultMap="REFUNDS_RESULT_DTO">
	select
		<include refid="Return_Product_Column_List" />,
		<include refid="Return_Log_Column_List" />,
		<include refid="Order_Column_List" />,
		<include refid="Product_Column_List" />,
		<include refid="Order_Items_Column_List" />
	from
		t_aftersales_return_product
	left join 
		t_orders on t_aftersales_return_product.order_id = t_orders.order_id
	left join
		t_members on t_orders.member_id=t_members.member_id
	left join
		t_aftersales_return_log on t_aftersales_return_log.return_id=t_aftersales_return_product.return_id
	left join 
		t_order_items on t_aftersales_return_product.items_id=t_order_items.item_id
	left join
		t_products on t_aftersales_return_product.product_id=t_products.product_id
	where
		t_aftersales_return_product.return_id=#{reshipId}
  </select>
  
  <resultMap type="com.cnit.yoyo.model.trade.dto.RefundsProductDTO" id="REFUNDS_RESULT_DTO">
  		<id column="return_id" property="returnId" jdbcType="BIGINT"/>
  		<result column="goods_id" property="goodsId" jdbcType="BIGINT" />
  		<result column="order_id" property="orderId" jdbcType="BIGINT" />
  		<result column="safeguard_require" property="safeguardRequire" jdbcType="INTEGER" />
  		<result column="safeguard_type" property="safeguardType" jdbcType="INTEGER" />
  		<result column="add_time" property="addTime" jdbcType="TIMESTAMP" />
  		<result column="member_name" property="memberName" jdbcType="VARCHAR" />
  		<result column="is_safeguard" property="isSafeguard" jdbcType="INTEGER" />
  		<result column="member_phone" property="memberPhone" jdbcType="VARCHAR" />
  		<result column="status" property="status" jdbcType="INTEGER" />
  		<result column="after_nums" property="applyNums" jdbcType="INTEGER" />
  		<result column="amount" property="amount" jdbcType="DECIMAL" />
  		<result column="content" property="content" jdbcType="VARCHAR" />
  		<result column="is_safeguard" property="isSafeguard" jdbcType="VARCHAR" />
  		<result column="seller_reason" property="sellerReason" jdbcType="VARCHAR" />
  		<result column="seller_comment" property="sellerComment" jdbcType="VARCHAR" />
  		<result column="member_image_path" property="memberImagePath" jdbcType="VARCHAR" />
  		<result column="intereven_comment" property="interevenComment" jdbcType="VARCHAR" />
  		<result column="intereven_image" property="interevenImage" jdbcType="VARCHAR" />
  		<result column="refund_address" property="refundAddress" jdbcType="VARCHAR" />
  		<result column="appeal" property="appeal" jdbcType="INTEGER" />
  		<result column="trade_no" property="tradeNo" jdbcType="VARCHAR" />
		<collection property="orderItems" ofType="com.cnit.yoyo.model.order.OrderItems" column="order_id">
			<id column="item_id" property="itemId" jdbcType="INTEGER" />
		    <result column="product_id" property="productId" jdbcType="INTEGER" />
		    <result column="bn" property="bn" jdbcType="VARCHAR" />
		    <result column="product_name" property="name" jdbcType="VARCHAR" />
		    <result column="price" property="price" jdbcType="DECIMAL" />
		    <result column="g_pric" property="gPric" jdbcType="DECIMAL" />
		    <result column="cost" property="cost" jdbcType="DECIMAL" />
		    <result column="amount" property="amount" jdbcType="DECIMAL" />
		    <result column="score" property="score" jdbcType="INTEGER" />
		    <result column="weight" property="weight" jdbcType="INTEGER" />
		    <result column="nums" property="nums" jdbcType="REAL" />
		    <result column="sendnum" property="sendnum" jdbcType="REAL" />
		    <result column="item_type" property="itemType" jdbcType="INTEGER" />
		    <result column="picture_path" property="picturePath" jdbcType="VARCHAR" />
		    <result column="goods_id" property="goodsId" jdbcType="BIGINT" />
		</collection>
		<collection property="logs" ofType="com.cnit.yoyo.model.trade.AftersalesReturnLogWithBLOBs" column="return_id">
			<id column="log_id" jdbcType="BIGINT" property="logId" />
			<result column="op_id" jdbcType="INTEGER" property="opId" />
			<result column="op_name" jdbcType="VARCHAR" property="opName" />
			<result column="alttime" jdbcType="TIMESTAMP" property="alttime" />
			<result column="behavior" jdbcType="INTEGER" property="behavior" />
			<result column="result" jdbcType="INTEGER" property="result" />
			<result column="role" jdbcType="INTEGER" property="role" />
			<result column="image_file" jdbcType="VARCHAR" property="imageFile" />
			<result column="log_text" jdbcType="LONGVARCHAR" property="logText" />
		</collection>
  </resultMap>
  
  <select id="selectRefundsProductById" parameterType="java.util.Map" resultMap="REFUNDS_RESULT_DTO">
	SELECT
		return_product.return_id,
		return_product.order_id,
		return_product.safeguard_require,
		return_product.safeguard_type ,
		return_product.add_time,
		return_product.seller_reason,
		return_product.seller_comment,
		return_product.member_image_path,
		return_product.member_name,
		return_product.member_phone,
		return_product.is_safeguard,
		return_product.intereven_image,
		return_product.intereven_comment,
		return_product.amount,
		return_product.content,
		return_product.`status`,
		return_product.appeal,
		items.item_id,
		items.product_id,
		items.nums,
		items.price,
		items.`name` product_name,
		products.picture_path,
		products.goods_id,
		log.log_id,
		log.op_id,
		log.op_name,
		log.alttime,
		log.behavior,
		log.result,
		log.role,		
		log.log_text			
	FROM
		t_aftersales_return_product return_product
	LEFT JOIN t_orders orders ON return_product.order_id = orders.order_id
	LEFT JOIN t_order_items items ON orders.order_id=items.order_id
	LEFT JOIN t_products products ON items.product_id = products.product_id
	LEFT JOIN t_aftersales_return_log log ON return_product.return_id=log.return_id
	WHERE
		return_product.return_id = #{returnId}
  </select>
  
  <select id="selectAfterSalesAppeal" parameterType="com.cnit.yoyo.model.trade.dto.AfterSalesQryDTO" resultMap="Return_Product_Result">
	select
		<include refid="Return_Product_Column_List" />
	from
		t_aftersales_return_product
	where
		t_aftersales_return_product.status in(4,5,6,7,8,9)
		<if test="orderId!=null">
		 	AND t_aftersales_return_product.order_id LIKE CONCAT('%', #{orderId},'%') 
		</if>
		<if test="memberName != null and memberName != ''">
			AND t_aftersales_return_product.member_name LIKE CONCAT('%', #{memberName},'%') 
		</if>
		<if test="afterSalesRequire != null">
			AND t_aftersales_return_product.safeguard_require =#{afterSalesRequire}
		</if>
		<if test="afterSalesType != null">
			AND t_aftersales_return_product.safeguard_type =#{afterSalesType}
		</if>
  </select>
  
  <select id="selectNeedRefundsList" parameterType="com.cnit.yoyo.model.trade.dto.AfterSalesQryDTO" resultMap="REFUNDS_RESULT_DTO">
		SELECT
			return_product.return_id,
			return_product.order_id,
			return_product.safeguard_require,
			return_product.safeguard_type ,
			return_product.add_time,
			return_product.member_image_path,
			return_product.member_name,
			return_product.member_phone,
			return_product.is_safeguard,
			return_product.amount,
			return_product.content,
			return_product.`status`,
			return_product.appeal,
			(select trade_no from t_payment_log paylog where  return_product.order_id=paylog.order_id and paylog.is_success='T') trade_no
		FROM
			t_aftersales_return_product return_product
		WHERE
			return_product.status IN(2,7,8,9,10,11,12)
		AND
			return_product.safeguard_require=5
  </select>
  
</mapper>