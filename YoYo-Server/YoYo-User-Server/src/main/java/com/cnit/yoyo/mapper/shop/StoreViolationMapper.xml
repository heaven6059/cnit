<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cnit.yoyo.dao.shop.StoreViolationMapper">
  <resultMap id="BaseResultMap" type="com.cnit.yoyo.model.shop.StoreViolation">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="store_id" jdbcType="BIGINT" property="storeId" />
    <result column="company_id" jdbcType="BIGINT" property="companyId" />
    <result column="cat_id" jdbcType="INTEGER" property="catId" />
    <result column="goods_starttime" jdbcType="TIMESTAMP" property="goodsStarttime" />
    <result column="goods_endtime" jdbcType="TIMESTAMP" property="goodsEndtime" />
    <result column="goodsdown_starttime" jdbcType="TIMESTAMP" property="goodsdownStarttime" />
    <result column="goodsdown_endtime" jdbcType="TIMESTAMP" property="goodsdownEndtime" />
    <result column="news_starttime" jdbcType="TIMESTAMP" property="newsStarttime" />
    <result column="news_endtime" jdbcType="TIMESTAMP" property="newsEndtime" />
    <result column="news_value" jdbcType="INTEGER" property="newsValue" />
    <result column="store_starttime" jdbcType="TIMESTAMP" property="storeStarttime" />
    <result column="store_endtime" jdbcType="TIMESTAMP" property="storeEndtime" />
    <result column="storedown_starttime" jdbcType="TIMESTAMP" property="storedownStarttime" />
    <result column="storedown_endtime" jdbcType="TIMESTAMP" property="storedownEndtime" />
    <result column="sales_starttime" jdbcType="TIMESTAMP" property="salesStarttime" />
    <result column="sales_endtime" jdbcType="TIMESTAMP" property="salesEndtime" />
    <result column="score" jdbcType="INTEGER" property="score" />
    <result column="earnest" jdbcType="DECIMAL" property="earnest" />
    <result column="processed" jdbcType="INTEGER" property="processed" />
    <result column="disabled" jdbcType="INTEGER" property="disabled" />
    <result column="add_time" jdbcType="TIMESTAMP" property="addTime" />
    <result column="last_modify" jdbcType="TIMESTAMP" property="lastModify" />
    <result column="d_order" jdbcType="INTEGER" property="dOrder" />
    <result column="status" jdbcType="INTEGER" property="status" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.cnit.yoyo.model.shop.StoreViolation">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    <result column="remark" jdbcType="LONGVARCHAR" property="remark" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    id, store_id, company_id, cat_id, goods_starttime, goods_endtime, goodsdown_starttime, 
    goodsdown_endtime, news_starttime, news_endtime, news_value, store_starttime, store_endtime, 
    storedown_starttime, storedown_endtime, sales_starttime, sales_endtime, score, earnest, 
    processed, disabled, add_time, last_modify, d_order, status
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    remark
  </sql>
  <select id="selectByExampleWithBLOBs" parameterType="com.cnit.yoyo.model.shop.StoreViolationExample" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    'false' as QUERYID,
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from t_business_storeviolation
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByExample" parameterType="com.cnit.yoyo.model.shop.StoreViolationExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    'false' as QUERYID,
    <include refid="Base_Column_List" />
    from t_business_storeviolation
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from t_business_storeviolation
    where id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    delete from t_business_storeviolation
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <delete id="deleteByExample" parameterType="com.cnit.yoyo.model.shop.StoreViolationExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    delete from t_business_storeviolation
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.cnit.yoyo.model.shop.StoreViolation">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    insert into t_business_storeviolation (id, store_id, company_id, 
      cat_id, goods_starttime, goods_endtime, 
      goodsdown_starttime, goodsdown_endtime, 
      news_starttime, news_endtime, news_value, 
      store_starttime, store_endtime, storedown_starttime, 
      storedown_endtime, sales_starttime, sales_endtime, 
      score, earnest, processed, 
      disabled, add_time, last_modify, 
      d_order, status, remark
      )
    values (#{id,jdbcType=BIGINT}, #{storeId,jdbcType=BIGINT}, #{companyId,jdbcType=BIGINT}, 
      #{catId,jdbcType=INTEGER}, #{goodsStarttime,jdbcType=TIMESTAMP}, #{goodsEndtime,jdbcType=TIMESTAMP}, 
      #{goodsdownStarttime,jdbcType=TIMESTAMP}, #{goodsdownEndtime,jdbcType=TIMESTAMP}, 
      #{newsStarttime,jdbcType=TIMESTAMP}, #{newsEndtime,jdbcType=TIMESTAMP}, #{newsValue,jdbcType=INTEGER}, 
      #{storeStarttime,jdbcType=TIMESTAMP}, #{storeEndtime,jdbcType=TIMESTAMP}, #{storedownStarttime,jdbcType=TIMESTAMP}, 
      #{storedownEndtime,jdbcType=TIMESTAMP}, #{salesStarttime,jdbcType=TIMESTAMP}, #{salesEndtime,jdbcType=TIMESTAMP}, 
      #{score,jdbcType=INTEGER}, #{earnest,jdbcType=DECIMAL}, #{processed,jdbcType=INTEGER}, 
      #{disabled,jdbcType=INTEGER}, #{addTime,jdbcType=TIMESTAMP}, #{lastModify,jdbcType=TIMESTAMP}, 
      #{dOrder,jdbcType=INTEGER}, #{status,jdbcType=INTEGER}, #{remark,jdbcType=LONGVARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.cnit.yoyo.model.shop.StoreViolation" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    insert into t_business_storeviolation
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="storeId != null">
        store_id,
      </if>
      <if test="companyId != null">
        company_id,
      </if>
      <if test="catId != null">
        cat_id,
      </if>
      <if test="goodsStarttime != null">
        goods_starttime,
      </if>
      <if test="goodsEndtime != null">
        goods_endtime,
      </if>
      <if test="goodsdownStarttime != null">
        goodsdown_starttime,
      </if>
      <if test="goodsdownEndtime != null">
        goodsdown_endtime,
      </if>
      <if test="newsStarttime != null">
        news_starttime,
      </if>
      <if test="newsEndtime != null">
        news_endtime,
      </if>
      <if test="newsValue != null">
        news_value,
      </if>
      <if test="storeStarttime != null">
        store_starttime,
      </if>
      <if test="storeEndtime != null">
        store_endtime,
      </if>
      <if test="storedownStarttime != null">
        storedown_starttime,
      </if>
      <if test="storedownEndtime != null">
        storedown_endtime,
      </if>
      <if test="salesStarttime != null">
        sales_starttime,
      </if>
      <if test="salesEndtime != null">
        sales_endtime,
      </if>
      <if test="score != null">
        score,
      </if>
      <if test="earnest != null">
        earnest,
      </if>
      <if test="processed != null">
        processed,
      </if>
      <if test="disabled != null">
        disabled,
      </if>
      <if test="addTime != null">
        add_time,
      </if>
      <if test="lastModify != null">
        last_modify,
      </if>
      <if test="dOrder != null">
        d_order,
      </if>
      <if test="status != null">
        status,
      </if>
      <if test="remark != null">
        remark,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=BIGINT},
      </if>
      <if test="storeId != null">
        #{storeId,jdbcType=BIGINT},
      </if>
      <if test="companyId != null">
        #{companyId,jdbcType=BIGINT},
      </if>
      <if test="catId != null">
        #{catId,jdbcType=INTEGER},
      </if>
      <if test="goodsStarttime != null">
        #{goodsStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="goodsEndtime != null">
        #{goodsEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="goodsdownStarttime != null">
        #{goodsdownStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="goodsdownEndtime != null">
        #{goodsdownEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="newsStarttime != null">
        #{newsStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="newsEndtime != null">
        #{newsEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="newsValue != null">
        #{newsValue,jdbcType=INTEGER},
      </if>
      <if test="storeStarttime != null">
        #{storeStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="storeEndtime != null">
        #{storeEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="storedownStarttime != null">
        #{storedownStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="storedownEndtime != null">
        #{storedownEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="salesStarttime != null">
        #{salesStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="salesEndtime != null">
        #{salesEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="score != null">
        #{score,jdbcType=INTEGER},
      </if>
      <if test="earnest != null">
        #{earnest,jdbcType=DECIMAL},
      </if>
      <if test="processed != null">
        #{processed,jdbcType=INTEGER},
      </if>
      <if test="disabled != null">
        #{disabled,jdbcType=INTEGER},
      </if>
      <if test="addTime != null">
        #{addTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastModify != null">
        #{lastModify,jdbcType=TIMESTAMP},
      </if>
      <if test="dOrder != null">
        #{dOrder,jdbcType=INTEGER},
      </if>
      <if test="status != null">
        #{status,jdbcType=INTEGER},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.cnit.yoyo.model.shop.StoreViolationExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    select count(*) from t_business_storeviolation
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    update t_business_storeviolation
    <set>
      <if test="record.id != null">
        id = #{record.id,jdbcType=BIGINT},
      </if>
      <if test="record.storeId != null">
        store_id = #{record.storeId,jdbcType=BIGINT},
      </if>
      <if test="record.companyId != null">
        company_id = #{record.companyId,jdbcType=BIGINT},
      </if>
      <if test="record.catId != null">
        cat_id = #{record.catId,jdbcType=INTEGER},
      </if>
      <if test="record.goodsStarttime != null">
        goods_starttime = #{record.goodsStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.goodsEndtime != null">
        goods_endtime = #{record.goodsEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.goodsdownStarttime != null">
        goodsdown_starttime = #{record.goodsdownStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.goodsdownEndtime != null">
        goodsdown_endtime = #{record.goodsdownEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.newsStarttime != null">
        news_starttime = #{record.newsStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.newsEndtime != null">
        news_endtime = #{record.newsEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.newsValue != null">
        news_value = #{record.newsValue,jdbcType=INTEGER},
      </if>
      <if test="record.storeStarttime != null">
        store_starttime = #{record.storeStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.storeEndtime != null">
        store_endtime = #{record.storeEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.storedownStarttime != null">
        storedown_starttime = #{record.storedownStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.storedownEndtime != null">
        storedown_endtime = #{record.storedownEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.salesStarttime != null">
        sales_starttime = #{record.salesStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.salesEndtime != null">
        sales_endtime = #{record.salesEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.score != null">
        score = #{record.score,jdbcType=INTEGER},
      </if>
      <if test="record.earnest != null">
        earnest = #{record.earnest,jdbcType=DECIMAL},
      </if>
      <if test="record.processed != null">
        processed = #{record.processed,jdbcType=INTEGER},
      </if>
      <if test="record.disabled != null">
        disabled = #{record.disabled,jdbcType=INTEGER},
      </if>
      <if test="record.addTime != null">
        add_time = #{record.addTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.lastModify != null">
        last_modify = #{record.lastModify,jdbcType=TIMESTAMP},
      </if>
      <if test="record.dOrder != null">
        d_order = #{record.dOrder,jdbcType=INTEGER},
      </if>
      <if test="record.status != null">
        status = #{record.status,jdbcType=INTEGER},
      </if>
      <if test="record.remark != null">
        remark = #{record.remark,jdbcType=LONGVARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExampleWithBLOBs" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    update t_business_storeviolation
    set id = #{record.id,jdbcType=BIGINT},
      store_id = #{record.storeId,jdbcType=BIGINT},
      company_id = #{record.companyId,jdbcType=BIGINT},
      cat_id = #{record.catId,jdbcType=INTEGER},
      goods_starttime = #{record.goodsStarttime,jdbcType=TIMESTAMP},
      goods_endtime = #{record.goodsEndtime,jdbcType=TIMESTAMP},
      goodsdown_starttime = #{record.goodsdownStarttime,jdbcType=TIMESTAMP},
      goodsdown_endtime = #{record.goodsdownEndtime,jdbcType=TIMESTAMP},
      news_starttime = #{record.newsStarttime,jdbcType=TIMESTAMP},
      news_endtime = #{record.newsEndtime,jdbcType=TIMESTAMP},
      news_value = #{record.newsValue,jdbcType=INTEGER},
      store_starttime = #{record.storeStarttime,jdbcType=TIMESTAMP},
      store_endtime = #{record.storeEndtime,jdbcType=TIMESTAMP},
      storedown_starttime = #{record.storedownStarttime,jdbcType=TIMESTAMP},
      storedown_endtime = #{record.storedownEndtime,jdbcType=TIMESTAMP},
      sales_starttime = #{record.salesStarttime,jdbcType=TIMESTAMP},
      sales_endtime = #{record.salesEndtime,jdbcType=TIMESTAMP},
      score = #{record.score,jdbcType=INTEGER},
      earnest = #{record.earnest,jdbcType=DECIMAL},
      processed = #{record.processed,jdbcType=INTEGER},
      disabled = #{record.disabled,jdbcType=INTEGER},
      add_time = #{record.addTime,jdbcType=TIMESTAMP},
      last_modify = #{record.lastModify,jdbcType=TIMESTAMP},
      d_order = #{record.dOrder,jdbcType=INTEGER},
      status = #{record.status,jdbcType=INTEGER},
      remark = #{record.remark,jdbcType=LONGVARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    update t_business_storeviolation
    set id = #{record.id,jdbcType=BIGINT},
      store_id = #{record.storeId,jdbcType=BIGINT},
      company_id = #{record.companyId,jdbcType=BIGINT},
      cat_id = #{record.catId,jdbcType=INTEGER},
      goods_starttime = #{record.goodsStarttime,jdbcType=TIMESTAMP},
      goods_endtime = #{record.goodsEndtime,jdbcType=TIMESTAMP},
      goodsdown_starttime = #{record.goodsdownStarttime,jdbcType=TIMESTAMP},
      goodsdown_endtime = #{record.goodsdownEndtime,jdbcType=TIMESTAMP},
      news_starttime = #{record.newsStarttime,jdbcType=TIMESTAMP},
      news_endtime = #{record.newsEndtime,jdbcType=TIMESTAMP},
      news_value = #{record.newsValue,jdbcType=INTEGER},
      store_starttime = #{record.storeStarttime,jdbcType=TIMESTAMP},
      store_endtime = #{record.storeEndtime,jdbcType=TIMESTAMP},
      storedown_starttime = #{record.storedownStarttime,jdbcType=TIMESTAMP},
      storedown_endtime = #{record.storedownEndtime,jdbcType=TIMESTAMP},
      sales_starttime = #{record.salesStarttime,jdbcType=TIMESTAMP},
      sales_endtime = #{record.salesEndtime,jdbcType=TIMESTAMP},
      score = #{record.score,jdbcType=INTEGER},
      earnest = #{record.earnest,jdbcType=DECIMAL},
      processed = #{record.processed,jdbcType=INTEGER},
      disabled = #{record.disabled,jdbcType=INTEGER},
      add_time = #{record.addTime,jdbcType=TIMESTAMP},
      last_modify = #{record.lastModify,jdbcType=TIMESTAMP},
      d_order = #{record.dOrder,jdbcType=INTEGER},
      status = #{record.status,jdbcType=INTEGER}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.cnit.yoyo.model.shop.StoreViolation">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    update t_business_storeviolation
    <set>
      <if test="storeId != null">
        store_id = #{storeId,jdbcType=BIGINT},
      </if>
      <if test="companyId != null">
        company_id = #{companyId,jdbcType=BIGINT},
      </if>
      <if test="catId != null">
        cat_id = #{catId,jdbcType=INTEGER},
      </if>
      <if test="goodsStarttime != null">
        goods_starttime = #{goodsStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="goodsEndtime != null">
        goods_endtime = #{goodsEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="goodsdownStarttime != null">
        goodsdown_starttime = #{goodsdownStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="goodsdownEndtime != null">
        goodsdown_endtime = #{goodsdownEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="newsStarttime != null">
        news_starttime = #{newsStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="newsEndtime != null">
        news_endtime = #{newsEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="newsValue != null">
        news_value = #{newsValue,jdbcType=INTEGER},
      </if>
      <if test="storeStarttime != null">
        store_starttime = #{storeStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="storeEndtime != null">
        store_endtime = #{storeEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="storedownStarttime != null">
        storedown_starttime = #{storedownStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="storedownEndtime != null">
        storedown_endtime = #{storedownEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="salesStarttime != null">
        sales_starttime = #{salesStarttime,jdbcType=TIMESTAMP},
      </if>
      <if test="salesEndtime != null">
        sales_endtime = #{salesEndtime,jdbcType=TIMESTAMP},
      </if>
      <if test="score != null">
        score = #{score,jdbcType=INTEGER},
      </if>
      <if test="earnest != null">
        earnest = #{earnest,jdbcType=DECIMAL},
      </if>
      <if test="processed != null">
        processed = #{processed,jdbcType=INTEGER},
      </if>
      <if test="disabled != null">
        disabled = #{disabled,jdbcType=INTEGER},
      </if>
      <if test="addTime != null">
        add_time = #{addTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastModify != null">
        last_modify = #{lastModify,jdbcType=TIMESTAMP},
      </if>
      <if test="dOrder != null">
        d_order = #{dOrder,jdbcType=INTEGER},
      </if>
      <if test="status != null">
        status = #{status,jdbcType=INTEGER},
      </if>
      <if test="remark != null">
        remark = #{remark,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.cnit.yoyo.model.shop.StoreViolation">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    update t_business_storeviolation
    set store_id = #{storeId,jdbcType=BIGINT},
      company_id = #{companyId,jdbcType=BIGINT},
      cat_id = #{catId,jdbcType=INTEGER},
      goods_starttime = #{goodsStarttime,jdbcType=TIMESTAMP},
      goods_endtime = #{goodsEndtime,jdbcType=TIMESTAMP},
      goodsdown_starttime = #{goodsdownStarttime,jdbcType=TIMESTAMP},
      goodsdown_endtime = #{goodsdownEndtime,jdbcType=TIMESTAMP},
      news_starttime = #{newsStarttime,jdbcType=TIMESTAMP},
      news_endtime = #{newsEndtime,jdbcType=TIMESTAMP},
      news_value = #{newsValue,jdbcType=INTEGER},
      store_starttime = #{storeStarttime,jdbcType=TIMESTAMP},
      store_endtime = #{storeEndtime,jdbcType=TIMESTAMP},
      storedown_starttime = #{storedownStarttime,jdbcType=TIMESTAMP},
      storedown_endtime = #{storedownEndtime,jdbcType=TIMESTAMP},
      sales_starttime = #{salesStarttime,jdbcType=TIMESTAMP},
      sales_endtime = #{salesEndtime,jdbcType=TIMESTAMP},
      score = #{score,jdbcType=INTEGER},
      earnest = #{earnest,jdbcType=DECIMAL},
      processed = #{processed,jdbcType=INTEGER},
      disabled = #{disabled,jdbcType=INTEGER},
      add_time = #{addTime,jdbcType=TIMESTAMP},
      last_modify = #{lastModify,jdbcType=TIMESTAMP},
      d_order = #{dOrder,jdbcType=INTEGER},
      status = #{status,jdbcType=INTEGER},
      remark = #{remark,jdbcType=LONGVARCHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.cnit.yoyo.model.shop.StoreViolation">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 12 09:26:34 CST 2015.
    -->
    update t_business_storeviolation
    set store_id = #{storeId,jdbcType=BIGINT},
      company_id = #{companyId,jdbcType=BIGINT},
      cat_id = #{catId,jdbcType=INTEGER},
      goods_starttime = #{goodsStarttime,jdbcType=TIMESTAMP},
      goods_endtime = #{goodsEndtime,jdbcType=TIMESTAMP},
      goodsdown_starttime = #{goodsdownStarttime,jdbcType=TIMESTAMP},
      goodsdown_endtime = #{goodsdownEndtime,jdbcType=TIMESTAMP},
      news_starttime = #{newsStarttime,jdbcType=TIMESTAMP},
      news_endtime = #{newsEndtime,jdbcType=TIMESTAMP},
      news_value = #{newsValue,jdbcType=INTEGER},
      store_starttime = #{storeStarttime,jdbcType=TIMESTAMP},
      store_endtime = #{storeEndtime,jdbcType=TIMESTAMP},
      storedown_starttime = #{storedownStarttime,jdbcType=TIMESTAMP},
      storedown_endtime = #{storedownEndtime,jdbcType=TIMESTAMP},
      sales_starttime = #{salesStarttime,jdbcType=TIMESTAMP},
      sales_endtime = #{salesEndtime,jdbcType=TIMESTAMP},
      score = #{score,jdbcType=INTEGER},
      earnest = #{earnest,jdbcType=DECIMAL},
      processed = #{processed,jdbcType=INTEGER},
      disabled = #{disabled,jdbcType=INTEGER},
      add_time = #{addTime,jdbcType=TIMESTAMP},
      last_modify = #{lastModify,jdbcType=TIMESTAMP},
      d_order = #{dOrder,jdbcType=INTEGER},
      status = #{status,jdbcType=INTEGER}
    where id = #{id,jdbcType=BIGINT}
  </update>
  <resultMap extends="ResultMapWithBLOBs" id="StoreViolationDTO" type="com.cnit.yoyo.model.shop.dto.StoreViolationDTO">
    <result column="cat_name" jdbcType="VARCHAR" property="catName" />
    <result column="parent_cat_id" jdbcType="INTEGER" property="parentCatId" />
    <result column="parent_cat_name" jdbcType="VARCHAR" property="parentCatName" />
    <result column="store_name" jdbcType="VARCHAR" property="storeName" />
    <result column="company_name" jdbcType="VARCHAR" property="companyName" />
  </resultMap>
  
  <select id="selectSumEarnestByCompanyId" resultType="java.lang.Double">
    select sum(earnest)
    from t_business_storeviolation
    where company_id = #{_parameter}
  </select>
  
  
  <select id="selectByQryDto" parameterType="com.cnit.yoyo.model.shop.dto.StoreViolationQryDTO" resultMap="StoreViolationDTO">
  	select sv.*, vc.cat_name, c.company_name, s.store_name, pvc.cat_id as parent_cat_id, pvc.cat_name as parent_cat_name
    from t_business_storeviolation sv 
    left join t_business_violationcat vc on sv.cat_id = vc.cat_id
    left join t_business_violationcat pvc on vc.parent_id!=0 and pvc.cat_id =  substring_index(substring(vc.cat_path,2),",",1)
    left join t_company c on sv.company_id = c.company_id
    left join t_business_storemanger s on sv.store_id = s.store_id
    where sv.disabled = '0' 
    <if test="catId != null and catId != '' and catId != '-1'">
    	and sv.cat_id = #{catId}
    </if>
    <if test="score != null">
    	and sv.score = #{score}
    </if>
    <if test="newsValue != null">
    	and sv.news_value = #{newsValue}
    </if>
    <if test="earnestMoney != null">
    	<if test="earnestMoneySearchType == 'gt'">
	    	and sv.earnest &gt; #{earnestMoney}
	    </if>
	    <if test="earnestMoneySearchType == 'ge'">
	    	and sv.earnest &gt;= #{earnestMoney}
	    </if>
	    <if test="earnestMoneySearchType == 'eq'">
	    	and sv.earnest = #{earnestMoney}
	    </if>
	    <if test="earnestMoneySearchType == 'le'">
	    	and #{earnestMoney} &gt;= sv.earnest
	    </if>
	    <if test="earnestMoneySearchType == 'lt'">
	    	and #{earnestMoney} &gt; sv.earnest 
	    </if>
    </if>
    <if test="earnestMoneySearchType == 'bt'">
    	<if test="earnestMoney1 != null">
	    	<if test="earnestMoney2 != null">
		    	and sv.earnest between #{earnestMoney1} and #{earnestMoney2}
		    </if>
	    </if>
    </if>
    
    <if test="goodsdownStarttime !=null and goodsdownStarttime != ''">
   	 	<![CDATA[and DATE_FORMAT(sv.goodsdown_starttime, '%Y-%m-%d') >=  DATE_FORMAT(#{goodsdownStarttime}, '%Y-%m-%d')]]>
    </if>
    
    <if test="goodsdownEndtime !=null and goodsdownEndtime != ''">
    	<![CDATA[and DATE_FORMAT(sv.goodsdown_endtime, '%Y-%m-%d') <=  DATE_FORMAT(#{goodsdownEndtime}, '%Y-%m-%d')]]>
    </if>
    
    <if test="goodsStarttime !=null and goodsStarttime != ''">
    	<![CDATA[and DATE_FORMAT(sv.goods_starttime, '%Y-%m-%d') >=  DATE_FORMAT(#{goodsStarttime}, '%Y-%m-%d')]]>
    </if>
    
    <if test="goodsEndtime !=null and goodsEndtime != ''">
    	<![CDATA[and DATE_FORMAT(sv.goods_endtime, '%Y-%m-%d') <=  DATE_FORMAT(#{goodsEndtime}, '%Y-%m-%d')]]>
    </if>
    
    <if test="storeStarttime !=null and storeStarttime != ''">
    	<![CDATA[and DATE_FORMAT(sv.store_starttime, '%Y-%m-%d') >=  DATE_FORMAT(#{storeStarttime}, '%Y-%m-%d')]]>
    </if>
    
    <if test="storeEndtime !=null and storeEndtime != ''">
    	<![CDATA[and DATE_FORMAT(sv.store_endtime, '%Y-%m-%d') <=  DATE_FORMAT(#{storeEndtime}, '%Y-%m-%d')]]>
    </if>
    
    <if test="storeDownStartTime !=null and storeDownStartTime != ''">
    	<![CDATA[and DATE_FORMAT(sv.storedown_starttime, '%Y-%m-%d') >=  DATE_FORMAT(#{storeDownStartTime}, '%Y-%m-%d')]]>
    </if>

    <if test="storeDownEndTime !=null and storeDownEndTime != ''">
    	<![CDATA[and DATE_FORMAT(sv.storedown_endtime, '%Y-%m-%d') <=  DATE_FORMAT(#{storeDownEndTime}, '%Y-%m-%d')]]>
    </if>
    
    
    <if test="processed != null">
    	and sv.processed in 
    	<foreach close=")" collection="processed" index="index" item="item" open="(" separator=",">
	    	#{item}  
	    </foreach>
    </if>
    <if test="status != null">
    	and sv.status = #{status}
    </if>
    
    order by sv.id desc
  </select>
  
  <update id="updateDisabled" >
    update t_business_storeviolation
    set disabled = #{disabled}
    where id in
    <foreach close=")" collection="list" index="index" item="item" open="(" separator=",">
    	#{item}  
    </foreach>
  </update>
  
  <select id="selectByParams" resultMap="BaseResultMap">
    select * from t_business_storeviolation 
    where disabled = #{disabled} and status = #{status} and processed = #{processed} 
    limit #{startRow},#{size}
  </select>
  
  <select id="selectMaxViolationByParams" resultMap="BaseResultMap">
  	select id, store_id, company_id, max(goods_endtime) as goods_endtime, max(goodsdown_endtime) as goodsdown_endtime, 
  		max(news_endtime) as news_endtime, max(news_value) as news_value, max(store_endtime) as store_endtime, 
  		max(storedown_endtime) as storedown_endtime, max(sales_endtime) as sales_endtime 
	from t_business_storeviolation 
	where disabled = #{disabled} and status = #{status} and processed = #{processed} 
	<if test="storeId != null and storeId >=1">
		and store_id =#{storeId}
	</if>
	group by store_id
	<if test="startRow !=null and size != null">
		limit #{startRow},#{size}
	</if>
  </select>
  
  <select id="selectMaxViolationCountByParams" resultType="java.lang.Integer">
  	select count(*)
	from t_business_storeviolation 
	where disabled = #{disabled} and status = #{status} and processed = #{processed} 
  </select>
  
  <select id="selectStoreIdCountByParams" resultType="java.lang.Integer">
  	select count(distinct store_id)
	from t_business_storeviolation 
	where disabled = #{disabled} and status = #{status} and processed = #{processed} 
  </select>
  
  <update id="updateStatusByStoreId" >
    update t_business_storeviolation
    set status = #{status}
    where store_id = #{storeId}
  </update>
  
  
  <select id="selectStoreIdByIds" resultType="java.lang.Long">
  	select distinct store_id
	from t_business_storeviolation 
	where  id in 
		<foreach close=")" collection="list" index="index" item="item" open="(" separator=",">
	    	#{item}  
	    </foreach>
  </select>
  
</mapper>